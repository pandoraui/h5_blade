/** vim: et:ts=4:sw=4:sts=4
* @license RequireJS 2.1.9 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
* Available via the MIT or new BSD license.
* see: http://github.com/jrburke/requirejs for details
*/

//     Zepto.js
//     (c) 2010-2014 Thomas Fuchs
//     Zepto.js may be freely distributed under the MIT license.

// > http://underscorejs.org
// > (c) 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.
// > Underscore may be freely distributed under the MIT license.

//     (c) 2010-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Backbone may be freely distributed under the MIT license.
//     For all details and documentation:
//     http://backbonejs.org

/**
 * @license RequireJS text 2.0.5+ Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

/*!
 * jquery.scrollLoading.js
 * by zhangxinxu  http://www.zhangxinxu.com
 * 2010-11-19 v1.0
 * 2012-01-13 v1.1 偏移值计算修改 position → offset
 * 2012-09-25 v1.2 增加滚动容器参数, 回调参数
 * 2015-11-17 v1.3 只对显示元素进行处理
*/

var requirejs,require,define;(function(global){function isFunction(e){return ostring.call(e)==="[object Function]"}function isArray(e){return ostring.call(e)==="[object Array]"}function each(e,t){if(e){var n;for(n=0;n<e.length;n+=1)if(e[n]&&t(e[n],n,e))break}}function eachReverse(e,t){if(e){var n;for(n=e.length-1;n>-1;n-=1)if(e[n]&&t(e[n],n,e))break}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(e,t,n,r){return t&&eachProp(t,function(t,i){if(n||!hasProp(e,i))r&&typeof t!="string"?(e[i]||(e[i]={}),mixin(e[i],t,n,r)):e[i]=t}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,r){var i=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return i.requireType=e,i.requireModules=r,n&&(i.originalError=n),i}function newContext(e){function v(e){var t,n;for(t=0;e[t];t+=1){n=e[t];if(n===".")e.splice(t,1),t-=1;else if(n===".."){if(t===1&&(e[2]===".."||e[0]===".."))break;t>0&&(e.splice(t-1,2),t-=2)}}}function m(e,t,n){var r,i,s,u,a,f,l,c,h,p,d,m=t&&t.split("/"),g=m,y=o.map,b=y&&y["*"];e&&e.charAt(0)==="."&&(t?(getOwn(o.pkgs,t)?g=m=[t]:g=m.slice(0,m.length-1),e=g.concat(e.split("/")),v(e),i=getOwn(o.pkgs,r=e[0]),e=e.join("/"),i&&e===r+"/"+i.main&&(e=r)):e.indexOf("./")===0&&(e=e.substring(2)));if(n&&y&&(m||b)){u=e.split("/");for(a=u.length;a>0;a-=1){l=u.slice(0,a).join("/");if(m)for(f=m.length;f>0;f-=1){s=getOwn(y,m.slice(0,f).join("/"));if(s){s=getOwn(s,l);if(s){c=s,h=a;break}}}if(c)break;!p&&b&&getOwn(b,l)&&(p=getOwn(b,l),d=a)}!c&&p&&(c=p,h=d),c&&(u.splice(0,h,c),e=u.join("/"))}return e}function g(e){isBrowser&&each(scripts(),function(t){if(t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===r.contextName)return t.parentNode.removeChild(t),!0})}function y(e){var t=getOwn(o.paths,e);if(t&&isArray(t)&&t.length>1)return t.shift(),r.require.undef(e),r.require([e]),!0}function b(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function w(e,t,n,i){var s,o,u,a,f=null,l=t?t.name:null,h=e,v=!0,g="";return e||(v=!1,e="_@r"+(p+=1)),a=b(e),f=a[0],e=a[1],f&&(f=m(f,l,i),o=getOwn(c,f)),e&&(f?o&&o.normalize?g=o.normalize(e,function(e){return m(e,l,i)}):g=m(e,l,i):(g=m(e,l,i),a=b(g),f=a[0],g=a[1],n=!0,s=r.nameToUrl(g))),u=f&&!o&&!n?"_unnormalized"+(d+=1):"",{prefix:f,name:g,parentMap:t,unnormalized:!!u,url:s,originalName:h,isDefine:v,id:(f?f+"!"+g:g)+u}}function E(e){var t=e.id,n=getOwn(u,t);return n||(n=u[t]=new r.Module(e)),n}function S(e,t,n){var r=e.id,i=getOwn(u,r);hasProp(c,r)&&(!i||i.defineEmitComplete)?t==="defined"&&n(c[r]):(i=E(e),i.error&&t==="error"?n(i.error):i.on(t,n))}function x(e,t){var n=e.requireModules,r=!1;t?t(e):(each(n,function(t){var n=getOwn(u,t);n&&(n.error=e,n.events.error&&(r=!0,n.emit("error",e)))}),r||req.onError(e))}function T(){globalDefQueue.length&&(apsp.apply(l,[l.length-1,0].concat(globalDefQueue)),globalDefQueue=[])}function N(e){delete u[e],delete a[e]}function C(e,t,n){var r=e.map.id;e.error?e.emit("error",e.error):(t[r]=!0,each(e.depMaps,function(r,i){var s=r.id,o=getOwn(u,s);o&&!e.depMatched[i]&&!n[s]&&(getOwn(t,s)?(e.defineDep(i,c[s]),e.check()):C(o,t,n))}),n[r]=!0)}function k(){var e,n,i,u,f=o.waitSeconds*1e3,l=f&&r.startTime+f<(new Date).getTime(),c=[],h=[],p=!1,d=!0;if(t)return;t=!0,eachProp(a,function(t){e=t.map,n=e.id;if(!t.enabled)return;e.isDefine||h.push(t);if(!t.error)if(!t.inited&&l)y(n)?(u=!0,p=!0):(c.push(n),g(n));else if(!t.inited&&t.fetched&&e.isDefine){p=!0;if(!e.prefix)return d=!1}});if(l&&c.length)return i=makeError("timeout","Load timeout for modules: "+c,null,c),i.contextName=r.contextName,x(i);d&&each(h,function(e){C(e,{},{})}),(!l||u)&&p&&(isBrowser||isWebWorker)&&!s&&(s=setTimeout(function(){s=0,k()},50)),t=!1}function L(e){hasProp(c,e[0])||E(w(e[0],null,!0)).init(e[1],e[2])}function A(e,t,n,r){e.detachEvent&&!isOpera?r&&e.detachEvent(r,t):e.removeEventListener(n,t,!1)}function O(e){var t=e.currentTarget||e.srcElement;return A(t,r.onScriptLoad,"load","onreadystatechange"),A(t,r.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function M(){var e;T();while(l.length){e=l.shift();if(e[0]===null)return x(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));L(e)}}var t,n,r,i,s,o={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},shim:{},config:{}},u={},a={},f={},l=[],c={},h={},p=1,d=1;return i={require:function(e){return e.require?e.require:e.require=r.makeRequire(e.map)},exports:function(e){e.usingExports=!0;if(e.map.isDefine)return e.exports?e.exports:e.exports=c[e.map.id]={}},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){var t,n=getOwn(o.pkgs,e.map.id);return t=n?getOwn(o.config,e.map.id+"/"+n.main):getOwn(o.config,e.map.id),t||{}},exports:c[e.map.id]}}},n=function(e){this.events=getOwn(f,e.id)||{},this.map=e,this.shim=getOwn(o.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},n.prototype={init:function(e,t,n,r){r=r||{};if(this.inited)return;this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=r.ignore,r.enabled||this.enabled?this.enable():this.check()},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(this.fetched)return;this.fetched=!0,r.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();r.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()}))},load:function(){var e=this.map.url;h[e]||(h[e]=!0,r.load(this.map.id,e))},check:function(){if(!this.enabled||this.enabling)return;var e,t,n=this.map.id,i=this.depExports,s=this.exports,o=this.factory;if(!this.inited)this.fetch();else if(this.error)this.emit("error",this.error);else if(!this.defining){this.defining=!0;if(this.depCount<1&&!this.defined){if(isFunction(o)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{s=r.execCb(n,o,i,s)}catch(u){e=u}else s=r.execCb(n,o,i,s);this.map.isDefine&&(t=this.module,t&&t.exports!==undefined&&t.exports!==this.exports?s=t.exports:s===undefined&&this.usingExports&&(s=this.exports));if(e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",x(this.error=e)}else s=o;this.exports=s,this.map.isDefine&&!this.ignore&&(c[n]=s,req.onResourceLoad&&req.onResourceLoad(r,this.map,this.depMaps)),N(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}},callPlugin:function(){var e=this.map,t=e.id,n=w(e.prefix);this.depMaps.push(n),S(n,"defined",bind(this,function(n){var i,s,a,f=this.map.name,l=this.map.parentMap?this.map.parentMap.name:null,c=r.makeRequire(e.parentMap,{enableBuildCallback:!0});if(this.map.unnormalized){n.normalize&&(f=n.normalize(f,function(e){return m(e,l,!0)})||""),s=w(e.prefix+"!"+f,this.map.parentMap),S(s,"defined",bind(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),a=getOwn(u,s.id),a&&(this.depMaps.push(s),this.events.error&&a.on("error",bind(this,function(e){this.emit("error",e)})),a.enable());return}i=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),i.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(u,function(e){e.map.id.indexOf(t+"_unnormalized")===0&&N(e.map.id)}),x(e)}),i.fromText=bind(this,function(n,s){var u=e.name,a=w(u),f=useInteractive;s&&(n=s),f&&(useInteractive=!1),E(a),hasProp(o.config,t)&&(o.config[u]=o.config[t]);try{req.exec(n)}catch(l){return x(makeError("fromtexteval","fromText eval for "+t+" failed: "+l,l,[t]))}f&&(useInteractive=!0),this.depMaps.push(a),r.completeLoad(u),c([u],i)}),n.load(e.name,c,i,o)})),r.enable(n,this),this.pluginMaps[n.id]=n},enable:function(){a[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,s,o;if(typeof e=="string"){e=w(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,o=getOwn(i,e.id);if(o){this.depExports[t]=o(this);return}this.depCount+=1,S(e,"defined",bind(this,function(e){this.defineDep(t,e),this.check()})),this.errback&&S(e,"error",bind(this,this.errback))}n=e.id,s=u[n],!hasProp(i,n)&&s&&!s.enabled&&r.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(u,e.id);t&&!t.enabled&&r.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),e==="error"&&delete this.events[e]}},r={config:o,contextName:e,registry:u,defined:c,urlFetched:h,defQueue:l,Module:n,makeModuleMap:w,nextTick:req.nextTick,onError:x,configure:function(e){e.baseUrl&&e.baseUrl.charAt(e.baseUrl.length-1)!=="/"&&(e.baseUrl+="/");var t=o.pkgs,n=o.shim,i={paths:!0,config:!0,map:!0};eachProp(e,function(e,t){i[t]?t==="map"?(o.map||(o.map={}),mixin(o[t],e,!0,!0)):mixin(o[t],e,!0):o[t]=e}),e.shim&&(eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e}),(e.exports||e.init)&&!e.exportsFn&&(e.exportsFn=r.makeShimExports(e)),n[t]=e}),o.shim=n),e.packages&&(each(e.packages,function(e){var n;e=typeof e=="string"?{name:e}:e,n=e.location,t[e.name]={name:e.name,location:n||e.name,main:(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}}),o.pkgs=t),eachProp(u,function(e,t){!e.inited&&!e.map.unnormalized&&(e.map=w(t))}),(e.deps||e.callback)&&r.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,n){function s(o,a,f){var l,h,p;return n.enableBuildCallback&&a&&isFunction(a)&&(a.__requireJsBuild=!0),typeof o=="string"?isFunction(a)?x(makeError("requireargs","Invalid require call"),f):t&&hasProp(i,o)?i[o](u[t.id]):req.get?req.get(r,o,t,s):(h=w(o,t,!1,!0),l=h.id,hasProp(c,l)?c[l]:x(makeError("notloaded",'Module name "'+l+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(M(),r.nextTick(function(){M(),p=E(w(null,t)),p.skipMap=n.skipMap,p.init(o,a,f,{enabled:!0}),k()}),s)}return n=n||{},mixin(s,{isBrowser:isBrowser,toUrl:function(e){var n,i=e.lastIndexOf("."),s=e.split("/")[0],o=s==="."||s==="..";return i!==-1&&(!o||i>1)&&(n=e.substring(i,e.length),e=e.substring(0,i)),r.nameToUrl(m(e,t&&t.id,!0),n,!0)},defined:function(e){return hasProp(c,w(e,t,!1,!0).id)},specified:function(e){return e=w(e,t,!1,!0).id,hasProp(c,e)||hasProp(u,e)}}),t||(s.undef=function(e){T();var n=w(e,t,!0),r=getOwn(u,e);g(e),delete c[e],delete h[n.url],delete f[e],r&&(r.events.defined&&(f[e]=r.events),N(e))}),s},enable:function(e){var t=getOwn(u,e.id);t&&E(e).enable()},completeLoad:function(e){var t,n,r,i=getOwn(o.shim,e)||{},s=i.exports;T();while(l.length){n=l.shift();if(n[0]===null){n[0]=e;if(t)break;t=!0}else n[0]===e&&(t=!0);L(n)}r=getOwn(u,e);if(!t&&!hasProp(c,e)&&r&&!r.inited){if(o.enforceDefine&&(!s||!getGlobal(s))){if(y(e))return;return x(makeError("nodefine","No define call for "+e,null,[e]))}L([e,i.deps||[],i.exportsFn])}k()},nameToUrl:function(e,t,n){var r,i,s,u,a,f,l,c,h;if(req.jsExtRegExp.test(e))c=e+(t||"");else{r=o.paths,i=o.pkgs,a=e.split("/");for(f=a.length;f>0;f-=1){l=a.slice(0,f).join("/"),s=getOwn(i,l),h=getOwn(r,l);if(h){isArray(h)&&(h=h[0]),a.splice(0,f,h);break}if(s){e===s.name?u=s.location+"/"+s.main:u=s.location,a.splice(0,f,u);break}}c=a.join("/"),c+=t||(/^data\:|\?/.test(c)||n?"":".js"),c=(c.charAt(0)==="/"||c.match(/^[\w\+\.\-]+:/)?"":o.baseUrl)+c}return o.urlArgs?c+((c.indexOf("?")===-1?"?":"&")+o.urlArgs):c},load:function(e,t){req.load(r,e,t)},execCb:function(e,t,n,r){return t.apply(r,n)},onScriptLoad:function(e){if(e.type==="load"||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=O(e);r.completeLoad(t.id)}},onScriptError:function(e){var t=O(e);if(!y(t.id))return x(makeError("scripterror","Script error for: "+t.id,e,[t.id]))}},r.require=r.makeRequire(),r}function getInteractiveScript(){return interactiveScript&&interactiveScript.readyState==="interactive"?interactiveScript:(eachReverse(scripts(),function(e){if(e.readyState==="interactive")return interactiveScript=e}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.9",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=typeof window!="undefined"&&typeof navigator!="undefined"&&!!window.document,isWebWorker=!isBrowser&&typeof importScripts!="undefined",readyRegExp=isBrowser&&navigator.platform==="PLAYSTATION 3"?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera=typeof opera!="undefined"&&opera.toString()==="[object Opera]",contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if(typeof define!="undefined")return;if(typeof requirejs!="undefined"){if(isFunction(requirejs))return;cfg=requirejs,requirejs=undefined}typeof require!="undefined"&&!isFunction(require)&&(cfg=require,require=undefined),req=requirejs=function(e,t,n,r){var i,s,o=defContextName;return!isArray(e)&&typeof e!="string"&&(s=e,isArray(t)?(e=t,t=n,n=r):e=[]),s&&s.context&&(o=s.context),i=getOwn(contexts,o),i||(i=contexts[o]=req.s.newContext(o)),s&&i.configure(s),i.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick=typeof setTimeout!="undefined"?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e,t,n){var r=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return r.type=e.scriptType||"text/javascript",r.charset="utf-8",r.async=!0,r},req.load=function(e,t,n){var r=e&&e.config||{},i;if(isBrowser)return i=req.createNode(r,t,n),i.setAttribute("data-requirecontext",e.contextName),i.setAttribute("data-requiremodule",t),i.attachEvent&&!(i.attachEvent.toString&&i.attachEvent.toString().indexOf("[native code")<0)&&!isOpera?(useInteractive=!0,i.attachEvent("onreadystatechange",e.onScriptLoad)):(i.addEventListener("load",e.onScriptLoad,!1),i.addEventListener("error",e.onScriptError,!1)),i.src=n,currentlyAddingScript=i,baseElement?head.insertBefore(i,baseElement):head.appendChild(i),currentlyAddingScript=null,i;if(isWebWorker)try{importScripts(n),e.completeLoad(t)}catch(s){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+n,s,[t]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){head||(head=e.parentNode),dataMain=e.getAttribute("data-main");if(dataMain)return mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(e,t,n){var r,i;typeof e!="string"&&(n=t,t=e,e=null),isArray(t)||(n=t,t=null),!t&&isFunction(n)&&(t=[],n.length&&(n.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(e,n){t.push(n)}),t=(n.length===1?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(r=currentlyAddingScript||getInteractiveScript(),r&&(e||(e=r.getAttribute("data-requiremodule")),i=contexts[r.getAttribute("data-requirecontext")])),(i?i.defQueue:globalDefQueue).push([e,t,n])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg),window.cfg=cfg,window.contexts=contexts})(this);var Zepto=function(){function O(e){return e==null?String(e):T[N.call(e)]||"object"}function M(e){return O(e)=="function"}function _(e){return e!=null&&e==e.window}function D(e){return e!=null&&e.nodeType==e.DOCUMENT_NODE}function P(e){return O(e)=="object"}function H(e){return P(e)&&!_(e)&&e.__proto__==Object.prototype}function B(e){return e instanceof Array}function j(e){return typeof e.length=="number"}function F(e){return o.call(e,function(e){return e!=null})}function I(e){return e.length>0?n.fn.concat.apply([],e):e}function q(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function R(e){return e in f?f[e]:f[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function U(e,t){return typeof t=="number"&&!c[q(e)]?t+"px":t}function z(e){var t,n;return a[e]||(t=u.createElement(e),u.body.appendChild(t),n=l(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),n=="none"&&(n="block"),a[e]=n),a[e]}function W(e){return"children"in e?s.call(e.children):n.map(e.childNodes,function(e){if(e.nodeType==1)return e})}function X(n,r,i){for(t in r)i&&(H(r[t])||B(r[t]))?(H(r[t])&&!H(n[t])&&(n[t]={}),B(r[t])&&!B(n[t])&&(n[t]=[]),X(n[t],r[t],i)):r[t]!==e&&(n[t]=r[t])}function V(t,r){return r===e?n(t):n(t).filter(r)}function $(e,t,n,r){return M(t)?t.call(e,n,r):t}function J(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function K(t,n){var r=t.className,i=r&&r.baseVal!==e;if(n===e)return i?r.baseVal:r;i?r.baseVal=n:t.className=n}function Q(e){var t;try{return e?e=="true"||(e=="false"?!1:e=="null"?null:isNaN(t=Number(e))?/^[\[\{]/.test(e)?n.parseJSON(e):e:t):e}catch(r){return e}}function G(e,t){t(e);for(var n in e.childNodes)G(e.childNodes[n],t)}var e,t,n,r,i=[],s=i.slice,o=i.filter,u=window.document,a={},f={},l=u.defaultView.getComputedStyle,c={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},h=/^\s*<(\w+|!)[^>]*>/,p=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,d=/^(?:body|html)$/i,v=["val","css","html","text","data","width","height","offset"],m=["after","prepend","before","append"],g=u.createElement("table"),y=u.createElement("tr"),b={tr:u.createElement("tbody"),tbody:g,thead:g,tfoot:g,td:y,th:y,"*":u.createElement("div")},w=/complete|loaded|interactive/,E=/^\.([\w-]+)$/,S=/^#([\w-]*)$/,x=/^[\w-]+$/,T={},N=T.toString,C={},k,L,A=u.createElement("div");return C.matches=function(e,t){if(!e||e.nodeType!==1)return!1;var n=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var r,i=e.parentNode,s=!i;return s&&(i=A).appendChild(e),r=~C.qsa(i,t).indexOf(e),s&&A.removeChild(e),r},k=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},L=function(e){return o.call(e,function(t,n){return e.indexOf(t)==n})},C.fragment=function(t,r,i){t.replace&&(t=t.replace(p,"<$1></$2>")),r===e&&(r=h.test(t)&&RegExp.$1),r in b||(r="*");var o,u,a=b[r];return a.innerHTML=""+t,u=n.each(s.call(a.childNodes),function(){a.removeChild(this)}),H(i)&&(o=n(u),n.each(i,function(e,t){v.indexOf(e)>-1?o[e](t):o.attr(e,t)})),u},C.Z=function(e,t){return e=e||[],e.__proto__=n.fn,e.selector=t||"",e},C.isZ=function(e){return e instanceof C.Z},C.init=function(t,r){if(!t)return C.Z();if(M(t))return n(u).ready(t);if(C.isZ(t))return t;var i;if(B(t))i=F(t);else if(P(t))i=[H(t)?n.extend({},t):t],t=null;else if(h.test(t))i=C.fragment(t.trim(),RegExp.$1,r),t=null;else{if(r!==e)return n(r).find(t);i=C.qsa(u,t)}return C.Z(i,t)},n=function(e,t){return C.init(e,t)},n.extend=function(e){var t,n=s.call(arguments,1);return typeof e=="boolean"&&(t=e,e=n.shift()),n.forEach(function(n){X(e,n,t)}),e},C.qsa=function(e,t){var n;return D(e)&&S.test(t)?(n=e.getElementById(RegExp.$1))?[n]:[]:e.nodeType!==1&&e.nodeType!==9?[]:s.call(E.test(t)?e.getElementsByClassName(RegExp.$1):x.test(t)?e.getElementsByTagName(t):e.querySelectorAll(t))},n.contains=function(e,t){return e!==t&&e.contains(t)},n.type=O,n.isFunction=M,n.isWindow=_,n.isArray=B,n.isPlainObject=H,n.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},n.inArray=function(e,t,n){return i.indexOf.call(t,e,n)},n.camelCase=k,n.trim=function(e){return e.trim()},n.uuid=0,n.support={},n.expr={},n.map=function(e,t){var n,r=[],i,s;if(j(e))for(i=0;i<e.length;i++)n=t(e[i],i),n!=null&&r.push(n);else for(s in e)n=t(e[s],s),n!=null&&r.push(n);return I(r)},n.each=function(e,t){var n,r;if(j(e)){for(n=0;n<e.length;n++)if(t.call(e[n],n,e[n])===!1)return e}else for(r in e)if(t.call(e[r],r,e[r])===!1)return e;return e},n.grep=function(e,t){return o.call(e,t)},window.JSON&&(n.parseJSON=JSON.parse),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){T["[object "+t+"]"]=t.toLowerCase()}),n.fn={forEach:i.forEach,reduce:i.reduce,push:i.push,sort:i.sort,indexOf:i.indexOf,concat:i.concat,map:function(e){return n(n.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return n(s.apply(this,arguments))},ready:function(e){return w.test(u.readyState)?e(n):u.addEventListener("DOMContentLoaded",function(){e(n)},!1),this},get:function(t){return t===e?s.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){this.parentNode!=null&&this.parentNode.removeChild(this)})},each:function(e){return i.every.call(this,function(t,n){return e.call(t,n,t)!==!1}),this},filter:function(e){return M(e)?this.not(this.not(e)):n(o.call(this,function(t){return C.matches(t,e)}))},add:function(e,t){return n(L(this.concat(n(e,t))))},is:function(e){return this.length>0&&C.matches(this[0],e)},not:function(t){var r=[];if(M(t)&&t.call!==e)this.each(function(e){t.call(this,e)||r.push(this)});else{var i=typeof t=="string"?this.filter(t):j(t)&&M(t.item)?s.call(t):n(t);this.forEach(function(e){i.indexOf(e)<0&&r.push(e)})}return n(r)},has:function(e){return this.filter(function(){return P(e)?n.contains(this,e):n(this).find(e).size()})},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!P(e)?e:n(e)},last:function(){var e=this[this.length-1];return e&&!P(e)?e:n(e)},find:function(e){var t,r=this;return typeof e=="object"?t=n(e).filter(function(){var e=this;return i.some.call(r,function(t){return n.contains(t,e)})}):this.length==1?t=n(C.qsa(this[0],e)):t=this.map(function(){return C.qsa(this,e)}),t},closest:function(e,t){var r=this[0],i=!1;typeof e=="object"&&(i=n(e));while(r&&!(i?i.indexOf(r)>=0:C.matches(r,e)))r=r!==t&&!D(r)&&r.parentNode;return n(r)},parents:function(e){var t=[],r=this;while(r.length>0)r=n.map(r,function(e){if((e=e.parentNode)&&!D(e)&&t.indexOf(e)<0)return t.push(e),e});return V(t,e)},parent:function(e){return V(L(this.pluck("parentNode")),e)},children:function(e){return V(this.map(function(){return W(this)}),e)},contents:function(){return this.map(function(){return s.call(this.childNodes)})},siblings:function(e){return V(this.map(function(e,t){return o.call(W(t.parentNode),function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return n.map(this,function(t){return t[e]})},show:function(){return this.each(function(){this.style.display=="none"&&(this.style.display=null),l(this,"").getPropertyValue("display")=="none"&&(this.style.display=z(this.nodeName))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var t=M(e);if(this[0]&&!t)var r=n(e).get(0),i=r.parentNode||this.length>1;return this.each(function(s){n(this).wrapAll(t?e.call(this,s):i?r.cloneNode(!0):r)})},wrapAll:function(e){if(this[0]){n(this[0]).before(e=n(e));var t;while((t=e.children()).length)e=t.first();n(e).append(this)}return this},wrapInner:function(e){var t=M(e);return this.each(function(r){var i=n(this),s=i.contents(),o=t?e.call(this,r):e;s.length?s.wrapAll(o):i.append(o)})},unwrap:function(){return this.parent().each(function(){n(this).replaceWith(n(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var r=n(this);(t===e?r.css("display")=="none":t)?r.show():r.hide()})},prev:function(e){return n(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return n(this.pluck("nextElementSibling")).filter(e||"*")},html:function(t){return t===e?this.length>0?this[0].innerHTML:null:this.each(function(e){var r=this.innerHTML;n(this).empty().append($(this,t,e,r))})},text:function(t){return t===e?this.length>0?this[0].textContent:null:this.each(function(){this.textContent=t})},attr:function(n,r){var i;return typeof n=="string"&&r===e?this.length==0||this[0].nodeType!==1?e:n=="value"&&this[0].nodeName=="INPUT"?this.val():!(i=this[0].getAttribute(n))&&n in this[0]?this[0][n]:i:this.each(function(e){if(this.nodeType!==1)return;if(P(n))for(t in n)J(this,t,n[t]);else J(this,n,$(this,r,e,this.getAttribute(n)))})},removeAttr:function(e){return this.each(function(){this.nodeType===1&&J(this,e)})},prop:function(t,n){return n===e?this[0]&&this[0][t]:this.each(function(e){this[t]=$(this,n,e,this[t])})},data:function(t,n){var r=this.attr("data-"+q(t),n);return r!==null?Q(r):e},val:function(t){return t===e?this[0]&&(this[0].multiple?n(this[0]).find("option").filter(function(e){return this.selected}).pluck("value"):this[0].value):this.each(function(e){this.value=$(this,t,e,this.value)})},offset:function(e){if(e)return this.each(function(t){var r=n(this),i=$(this,e,t,r.offset()),s=r.offsetParent().offset(),o={top:i.top-s.top,left:i.left-s.left};r.css("position")=="static"&&(o.position="relative"),r.css(o)});if(this.length==0)return null;var t=this[0].getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)}},css:function(e,n){if(arguments.length<2&&typeof e=="string")return this[0]&&(this[0].style[k(e)]||l(this[0],"").getPropertyValue(e));var r="";if(O(e)=="string")!n&&n!==0?this.each(function(){this.style.removeProperty(q(e))}):r=q(e)+":"+U(e,n);else for(t in e)!e[t]&&e[t]!==0?this.each(function(){this.style.removeProperty(q(t))}):r+=q(t)+":"+U(t,e[t])+";";return this.each(function(){this.style.cssText+=";"+r})},index:function(e){return e?this.indexOf(n(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return i.some.call(this,function(e){return this.test(K(e))},R(e))},addClass:function(e){return this.each(function(t){r=[];var i=K(this),s=$(this,e,t,i);s.split(/\s+/g).forEach(function(e){n(this).hasClass(e)||r.push(e)},this),r.length&&K(this,i+(i?" ":"")+r.join(" "))})},removeClass:function(t){return this.each(function(n){if(t===e)return K(this,"");r=K(this),$(this,t,n,r).split(/\s+/g).forEach(function(e){r=r.replace(R(e)," ")}),K(this,r.trim())})},toggleClass:function(t,r){return this.each(function(i){var s=n(this),o=$(this,t,i,K(this));o.split(/\s+/g).forEach(function(t){(r===e?!s.hasClass(t):r)?s.addClass(t):s.removeClass(t)})})},scrollTop:function(){if(!this.length)return;return"scrollTop"in this[0]?this[0].scrollTop:this[0].scrollY},position:function(){if(!this.length)return;var e=this[0],t=this.offsetParent(),r=this.offset(),i=d.test(t[0].nodeName)?{top:0,left:0}:t.offset();return r.top-=parseFloat(n(e).css("margin-top"))||0,r.left-=parseFloat(n(e).css("margin-left"))||0,i.top+=parseFloat(n(t[0]).css("border-top-width"))||0,i.left+=parseFloat(n(t[0]).css("border-left-width"))||0,{top:r.top-i.top,left:r.left-i.left}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||u.body;while(e&&!d.test(e.nodeName)&&n(e).css("position")=="static")e=e.offsetParent;return e})}},n.fn.detach=n.fn.remove,["width","height"].forEach(function(t){n.fn[t]=function(r){var i,s=this[0],o=t.replace(/./,function(e){return e[0].toUpperCase()});return r===e?_(s)?s["inner"+o]:D(s)?s.documentElement["offset"+o]:(i=this.offset())&&i[t]:this.each(function(e){s=n(this),s.css(t,$(this,r,e,s[t]()))})}}),m.forEach(function(e,t){var r=t%2;n.fn[e]=function(){var e,i=n.map(arguments,function(t){return e=O(t),e=="object"||e=="array"||t==null?t:C.fragment(t)}),s,o=this.length>1;return i.length<1?this:this.each(function(e,u){s=r?u:u.parentNode,u=t==0?u.nextSibling:t==1?u.firstChild:t==2?u:null,i.forEach(function(e){if(o)e=e.cloneNode(!0);else if(!s)return n(e).remove();G(s.insertBefore(e,u),function(e){e.nodeName!=null&&e.nodeName.toUpperCase()==="SCRIPT"&&(!e.type||e.type==="text/javascript")&&!e.src&&window.eval.call(window,e.innerHTML)})})})},n.fn[r?e+"To":"insert"+(t?"Before":"After")]=function(t){return n(t)[e](this),this}}),C.Z.prototype=n.fn,C.uniq=L,C.deserializeValue=Q,n.zepto=C,n}();window.Zepto=Zepto,window.$===undefined&&(window.$=Zepto),function(e){function t(e){var t=this.os={},n=this.browser={},r=e.match(/Web[kK]it[\/]{0,1}([\d.]+)/),i=e.match(/(Android);?[\s\/]+([\d.]+)?/),s=e.match(/(iPad).*OS\s([\d_]+)/),o=e.match(/(iPod)(.*OS\s([\d_]+))?/),u=!s&&e.match(/(iPhone\sOS)\s([\d_]+)/),a=e.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),f=a&&e.match(/TouchPad/),l=e.match(/Kindle\/([\d.]+)/),c=e.match(/Silk\/([\d._]+)/),h=e.match(/(BlackBerry).*Version\/([\d.]+)/),p=e.match(/(BB10).*Version\/([\d.]+)/),d=e.match(/(RIM\sTablet\sOS)\s([\d.]+)/),v=e.match(/PlayBook/),m=e.match(/Chrome\/([\d.]+)/)||e.match(/CriOS\/([\d.]+)/),g=e.match(/Firefox\/([\d.]+)/),y=e.match(/MSIE\s([\d.]+)/),b=r&&e.match(/Mobile\//)&&!m,w=e.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/)&&!m;if(n.webkit=!!r)n.version=r[1];i&&(t.android=!0,t.version=i[2]),u&&!o&&(t.ios=t.iphone=!0,t.version=u[2].replace(/_/g,".")),s&&(t.ios=t.ipad=!0,t.version=s[2].replace(/_/g,".")),o&&(t.ios=t.ipod=!0,t.version=o[3]?o[3].replace(/_/g,"."):null),a&&(t.webos=!0,t.version=a[2]),f&&(t.touchpad=!0),h&&(t.blackberry=!0,t.version=h[2]),p&&(t.bb10=!0,t.version=p[2]),d&&(t.rimtabletos=!0,t.version=d[2]),v&&(n.playbook=!0),l&&(t.kindle=!0,t.version=l[1]),c&&(n.silk=!0,n.version=c[1]),!c&&t.android&&e.match(/Kindle Fire/)&&(n.silk=!0),m&&(n.chrome=!0,n.version=m[1]),g&&(n.firefox=!0,n.version=g[1]),y&&(n.ie=!0,n.version=y[1]),b&&(e.match(/Safari/)||!!t.ios)&&(n.safari=!0),w&&(n.webview=!0),t.tablet=!!(s||v||i&&!e.match(/Mobile/)||g&&e.match(/Tablet/)||y&&!e.match(/Phone/)&&e.match(/Touch/)),t.phone=!!(!t.tablet&&!t.ipod&&(i||u||a||h||p||m&&e.match(/Android/)||m&&e.match(/CriOS\/([\d.]+)/)||g&&e.match(/Mobile/)||y&&e.match(/Touch/)))}t.call(e,navigator.userAgent),e.__detect=t}(Zepto),function(e){function c(e){return e._zid||(e._zid=t++)}function h(e,t,n,r){t=p(t);if(t.ns)var i=d(t.ns);return(o[c(e)]||[]).filter(function(e){return e&&(!t.e||e.e==t.e)&&(!t.ns||i.test(e.ns))&&(!n||c(e.fn)===c(n))&&(!r||e.sel==r)})}function p(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function d(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function v(e,t){return e.del&&!a&&e.e in f||!!t}function m(e){return l[e]||a&&f[e]||e}function g(t,r,i,s,u,a,f){var h=c(t),d=o[h]||(o[h]=[]);r.split(/\s/).forEach(function(r){if(r=="ready")return e(document).ready(i);var o=p(r);o.fn=i,o.sel=u,o.e in l&&(i=function(t){var n=t.relatedTarget;if(!n||n!==this&&!e.contains(this,n))return o.fn.apply(this,arguments)}),o.del=a;var c=a||i;o.proxy=function(e){e=x(e);if(e.isImmediatePropagationStopped())return;e.data=s;var r=c.apply(t,e._args==n?[e]:[e].concat(e._args));return r===!1&&(e.preventDefault(),e.stopPropagation()),r},o.i=d.length,d.push(o),"addEventListener"in t&&t.addEventListener(m(o.e),o.proxy,v(o,f))})}function y(e,t,n,r,i){var s=c(e);(t||"").split(/\s/).forEach(function(t){h(e,t,n,r).forEach(function(t){delete o[s][t.i],"removeEventListener"in e&&e.removeEventListener(m(t.e),t.proxy,v(t,i))})})}function x(t,r){if(r||!t.isDefaultPrevented){r||(r=t),e.each(S,function(e,n){var i=r[e];t[e]=function(){return this[n]=b,i&&i.apply(r,arguments)},t[n]=w});if(r.defaultPrevented!==n?r.defaultPrevented:"returnValue"in r?r.returnValue===!1:r.getPreventDefault&&r.getPreventDefault())t.isDefaultPrevented=b}return t}function T(e){var t,r={originalEvent:e};for(t in e)!E.test(t)&&e[t]!==n&&(r[t]=e[t]);return x(r,e)}var t=1,n,r=Array.prototype.slice,i=e.isFunction,s=function(e){return typeof e=="string"},o={},u={},a="onfocusin"in window,f={focus:"focusin",blur:"focusout"},l={mouseenter:"mouseover",mouseleave:"mouseout"};u.click=u.mousedown=u.mouseup=u.mousemove="MouseEvents",e.event={add:g,remove:y},e.proxy=function(t,n){if(i(t)){var r=function(){return t.apply(n,arguments)};return r._zid=c(t),r}if(s(n))return e.proxy(t[n],t);throw new TypeError("expected function")},e.fn.bind=function(e,t,n){return this.on(e,t,n)},e.fn.unbind=function(e,t){return this.off(e,t)},e.fn.one=function(e,t,n,r){return this.on(e,t,n,r,1)};var b=function(){return!0},w=function(){return!1},E=/^([A-Z]|returnValue$|layer[XY]$)/,S={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};e.fn.delegate=function(e,t,n){return this.on(t,e,n)},e.fn.undelegate=function(e,t,n){return this.off(t,e,n)},e.fn.live=function(t,n){return e(document.body).delegate(this.selector,t,n),this},e.fn.die=function(t,n){return e(document.body).undelegate(this.selector,t,n),this},e.fn.on=function(t,o,u,a,f){var l,c,h=this;if(t&&!s(t))return e.each(t,function(e,t){h.on(e,o,u,t,f)}),h;!s(o)&&!i(a)&&a!==!1&&(a=u,u=o,o=n);if(i(u)||u===!1)a=u,u=n;return a===!1&&(a=w),h.each(function(n,i){f&&(l=function(e){return y(i,e.type,a),a.apply(this,arguments)}),o&&(c=function(t){var n,s=e(t.target).closest(o,i).get(0);if(s&&s!==i)return n=e.extend(T(t),{currentTarget:s,liveFired:i}),(l||a).apply(s,[n].concat(r.call(arguments,1)))}),g(i,t,a,u,o,c||l)})},e.fn.off=function(t,r,o){var u=this;return t&&!s(t)?(e.each(t,function(e,t){u.off(e,r,t)}),u):(!s(r)&&!i(o)&&o!==!1&&(o=r,r=n),o===!1&&(o=w),u.each(function(){y(this,t,o,r)}))},e.fn.trigger=function(t,n){return t=s(t)||e.isPlainObject(t)?e.Event(t):x(t),t._args=n,this.each(function(){"dispatchEvent"in this?this.dispatchEvent(t):e(this).triggerHandler(t,n)})},e.fn.triggerHandler=function(t,n){var r,i;return this.each(function(o,u){r=T(s(t)?e.Event(t):t),r._args=n,r.target=u,e.each(h(u,t.type||t),function(e,t){i=t.proxy(r);if(r.isImmediatePropagationStopped())return!1})}),i},"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){e.fn[t]=function(e){return e?this.bind(t,e):this.trigger(t)}}),["focus","blur"].forEach(function(t){e.fn[t]=function(e){return e?this.bind(t,e):this.each(function(){try{this[t]()}catch(e){}}),this}}),e.Event=function(e,t){s(e)||(t=e,e=t.type);var n=document.createEvent(u[e]||"Events"),r=!0;if(t)for(var i in t)i=="bubbles"?r=!!t[i]:n[i]=t[i];return n.initEvent(e,r,!0),x(n)}}(Zepto),function($){function triggerAndReturn(e,t,n){var r=$.Event(t);return $(e).trigger(r,n),!r.isDefaultPrevented()}function triggerGlobal(e,t,n,r){if(e.global)return triggerAndReturn(t||document,n,r)}function ajaxStart(e){e.global&&$.active++===0&&triggerGlobal(e,null,"ajaxStart")}function ajaxStop(e){e.global&&!--$.active&&triggerGlobal(e,null,"ajaxStop")}function ajaxBeforeSend(e,t){var n=t.context;if(t.beforeSend.call(n,e,t)===!1||triggerGlobal(t,n,"ajaxBeforeSend",[e,t])===!1)return!1;triggerGlobal(t,n,"ajaxSend",[e,t])}function ajaxSuccess(e,t,n,r){var i=n.context,s="success";n.success.call(i,e,s,t),r&&r.resolveWith(i,[e,s,t]),triggerGlobal(n,i,"ajaxSuccess",[t,n,e]),ajaxComplete(s,t,n)}function ajaxError(e,t,n,r,i){var s=r.context;r.error.call(s,n,t,e),i&&i.rejectWith(s,[n,t,e]),triggerGlobal(r,s,"ajaxError",[n,r,e||t]),ajaxComplete(t,n,r)}function ajaxComplete(e,t,n){var r=n.context;n.complete.call(r,t,e),triggerGlobal(n,r,"ajaxComplete",[t,n]),ajaxStop(n)}function empty(){}function mimeToDataType(e){return e&&(e=e.split(";",2)[0]),e&&(e==htmlType?"html":e==jsonType?"json":scriptTypeRE.test(e)?"script":xmlTypeRE.test(e)&&"xml")||"text"}function appendQuery(e,t){return t==""?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}function serializeData(e){e.processData&&e.data&&$.type(e.data)!="string"&&(e.data=$.param(e.data,e.traditional)),e.data&&(!e.type||e.type.toUpperCase()=="GET")&&(e.url=appendQuery(e.url,e.data),e.data=undefined)}function parseArguments(e,t,n,r){return $.isFunction(t)&&(r=n,n=t,t=undefined),$.isFunction(n)||(r=n,n=undefined),{url:e,data:t,success:n,dataType:r}}function serialize(e,t,n,r){var i,s=$.isArray(t),o=$.isPlainObject(t);$.each(t,function(t,u){i=$.type(u),r&&(t=n?r:r+"["+(o||i=="object"||i=="array"?t:"")+"]"),!r&&s?e.add(u.name,u.value):i=="array"||!n&&i=="object"?serialize(e,u,n,t):e.add(t,u)})}var jsonpID=0,document=window.document,key,name,rscript=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,scriptTypeRE=/^(?:text|application)\/javascript/i,xmlTypeRE=/^(?:text|application)\/xml/i,jsonType="application/json",htmlType="text/html",blankRE=/^\s*$/;$.active=0,$.ajaxJSONP=function(e,t){if("type"in e){var n=e.jsonpCallback,r=($.isFunction(n)?n():n)||"jsonp"+ ++jsonpID,i=document.createElement("script"),s=window[r],o,u=function(e){$(i).triggerHandler("error",e||"abort")},a={abort:u},f;return t&&t.promise(a),$(i).on("load error",function(n,u){clearTimeout(f),$(i).off().remove(),n.type=="error"||!o?ajaxError(null,u||"error",a,e,t):ajaxSuccess(o[0],a,e,t),window[r]=s,o&&$.isFunction(s)&&s(o[0]),s=o=undefined}),ajaxBeforeSend(a,e)===!1?(u("abort"),a):(window[r]=function(){o=arguments},i.src=e.url.replace(/\?(.+)=\?/,"?$1="+r),document.head.appendChild(i),e.timeout>0&&(f=setTimeout(function(){u("timeout")},e.timeout)),a)}return $.ajax(e)},$.ajaxSettings={type:"GET",beforeSend:empty,success:empty,error:empty,complete:empty,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:jsonType,xml:"application/xml, text/xml",html:htmlType,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},$.ajax=function(options){var settings=$.extend({},options||{}),deferred=$.Deferred&&$.Deferred();for(key in $.ajaxSettings)settings[key]===undefined&&(settings[key]=$.ajaxSettings[key]);ajaxStart(settings),settings.crossDomain||(settings.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(settings.url)&&RegExp.$2!=window.location.host),settings.url||(settings.url=window.location.toString()),serializeData(settings),settings.cache===!1&&(settings.url=appendQuery(settings.url,"_="+Date.now()));var dataType=settings.dataType,hasPlaceholder=/\?.+=\?/.test(settings.url);if(dataType=="jsonp"||hasPlaceholder)return hasPlaceholder||(settings.url=appendQuery(settings.url,settings.jsonp?settings.jsonp+"=?":settings.jsonp===!1?"":"callback=?")),$.ajaxJSONP(settings,deferred);var mime=settings.accepts[dataType],headers={},setHeader=function(e,t){headers[e.toLowerCase()]=[e,t]},protocol=/^([\w-]+:)\/\//.test(settings.url)?RegExp.$1:window.location.protocol,xhr=settings.xhr(),nativeSetHeader=xhr.setRequestHeader,abortTimeout;deferred&&deferred.promise(xhr),settings.crossDomain||setHeader("X-Requested-With","XMLHttpRequest"),setHeader("Accept",mime||"*/*");if(mime=settings.mimeType||mime)mime.indexOf(",")>-1&&(mime=mime.split(",",2)[0]),xhr.overrideMimeType&&xhr.overrideMimeType(mime);(settings.contentType||settings.contentType!==!1&&settings.data&&settings.type.toUpperCase()!="GET")&&setHeader("Content-Type",settings.contentType||"application/x-www-form-urlencoded");if(settings.headers)for(name in settings.headers)setHeader(name,settings.headers[name]);xhr.setRequestHeader=setHeader,xhr.onreadystatechange=function(){if(xhr.readyState==4){xhr.onreadystatechange=empty,clearTimeout(abortTimeout);var result,error=!1;if(xhr.status>=200&&xhr.status<300||xhr.status==304||xhr.status==0&&protocol=="file:"){dataType=dataType||mimeToDataType(settings.mimeType||xhr.getResponseHeader("content-type")),result=xhr.responseText;try{dataType=="script"?(1,eval)(result):dataType=="xml"?result=xhr.responseXML:dataType=="json"&&(result=blankRE.test(result)?null:$.parseJSON(result))}catch(e){error=e}error?ajaxError(error,"parsererror",xhr,settings,deferred):ajaxSuccess(result,xhr,settings,deferred)}else ajaxError(xhr.statusText||null,xhr.status?"error":"abort",xhr,settings,deferred)}};if(ajaxBeforeSend(xhr,settings)===!1)return xhr.abort(),ajaxError(null,"abort",xhr,settings,deferred),xhr;if(settings.xhrFields)for(name in settings.xhrFields)xhr[name]=settings.xhrFields[name];var async="async"in settings?settings.async:!0;xhr.open(settings.type,settings.url,async,settings.username,settings.password);for(name in headers)nativeSetHeader.apply(xhr,headers[name]);return settings.timeout>0&&(abortTimeout=setTimeout(function(){xhr.onreadystatechange=empty,xhr.abort(),ajaxError(null,"timeout",xhr,settings,deferred)},settings.timeout)),xhr.send(settings.data?settings.data:null),xhr},$.get=function(){return $.ajax(parseArguments.apply(null,arguments))},$.post=function(){var e=parseArguments.apply(null,arguments);return e.type="POST",$.ajax(e)},$.getJSON=function(){var e=parseArguments.apply(null,arguments);return e.dataType="json",$.ajax(e)},$.fn.load=function(e,t,n){if(!this.length)return this;var r=this,i=e.split(/\s/),s,o=parseArguments(e,t,n),u=o.success;return i.length>1&&(o.url=i[0],s=i[1]),o.success=function(e){r.html(s?$("<div>").html(e.replace(rscript,"")).find(s):e),u&&u.apply(r,arguments)},$.ajax(o),this};var escape=encodeURIComponent;$.param=function(e,t){var n=[];return n.add=function(e,t){this.push(escape(e)+"="+escape(t))},serialize(n,e,t),n.join("&").replace(/%20/g,"+")}}(Zepto),function(e){e.fn.serializeArray=function(){var t=[],n;return e([].slice.call(this.get(0).elements)).each(function(){n=e(this);var r=n.attr("type");this.nodeName.toLowerCase()!="fieldset"&&!this.disabled&&r!="submit"&&r!="reset"&&r!="button"&&(r!="radio"&&r!="checkbox"||this.checked)&&t.push({name:n.attr("name"),value:n.val()})}),t},e.fn.serialize=function(){var e=[];return this.serializeArray().forEach(function(t){e.push(encodeURIComponent(t.name)+"="+encodeURIComponent(t.value))}),e.join("&")},e.fn.submit=function(t){if(t)this.bind("submit",t);else if(this.length){var n=e.Event("submit");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this}}(Zepto),function(e,t){function w(e){return e.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function E(e){return r?r+e:e.toLowerCase()}var n="",r,i,s,o={Webkit:"webkit",Moz:"",O:"o"},u=window.document,a=u.createElement("div"),f=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,l,c,h,p,d,v,m,g,y,b={};e.each(o,function(e,i){if(a.style[e+"TransitionProperty"]!==t)return n="-"+e.toLowerCase()+"-",r=i,!1}),l=n+"transform",b[c=n+"transition-property"]=b[h=n+"transition-duration"]=b[d=n+"transition-delay"]=b[p=n+"transition-timing-function"]=b[v=n+"animation-name"]=b[m=n+"animation-duration"]=b[y=n+"animation-delay"]=b[g=n+"animation-timing-function"]="",e.fx={off:r===t&&a.style.transitionProperty===t,speeds:{_default:400,fast:200,slow:600},cssPrefix:n,transitionEnd:E("TransitionEnd"),animationEnd:E("AnimationEnd")},e.fn.animate=function(n,r,i,s,o){return e.isFunction(r)&&(s=r,i=t,r=t),e.isFunction(i)&&(s=i,i=t),e.isPlainObject(r)&&(i=r.easing,s=r.complete,o=r.delay,r=r.duration),r&&(r=(typeof r=="number"?r:e.fx.speeds[r]||e.fx.speeds._default)/1e3),o&&(o=parseFloat(o)/1e3),this.anim(n,r,i,s,o)},e.fn.anim=function(n,r,i,s,o){var u,a={},E,S="",x=this,T,N=e.fx.transitionEnd,C=!1;r===t&&(r=e.fx.speeds._default/1e3),o===t&&(o=0),e.fx.off&&(r=0);if(typeof n=="string")a[v]=n,a[m]=r+"s",a[y]=o+"s",a[g]=i||"linear",N=e.fx.animationEnd;else{E=[];for(u in n)f.test(u)?S+=u+"("+n[u]+") ":(a[u]=n[u],E.push(w(u)));S&&(a[l]=S,E.push(l)),r>0&&typeof n=="object"&&(a[c]=E.join(", "),a[h]=r+"s",a[d]=o+"s",a[p]=i||"linear")}return T=function(t){if(typeof t!="undefined"){if(t.target!==t.currentTarget)return;e(t.target).unbind(N,T)}else e(this).unbind(N,T);C=!0,e(this).css(b),s&&s.call(this)},r>0&&(this.bind(N,T),setTimeout(function(){if(C)return;T.call(x)},r*1e3+25)),this.size()&&this.get(0).clientLeft,this.css(a),r<=0&&setTimeout(function(){x.each(function(){T.call(this)})},0),this},a=null}(Zepto),function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,s=Function.prototype,o=r.push,u=r.slice,a=r.concat,f=i.toString,l=i.hasOwnProperty,c=r.forEach,h=r.map,p=r.reduce,d=r.reduceRight,v=r.filter,m=r.every,g=r.some,y=r.indexOf,b=r.lastIndexOf,w=Array.isArray,E=Object.keys,S=s.bind,x=function(e){if(e instanceof x)return e;if(!(this instanceof x))return new x(e);this._wrapped=e};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=x),exports._=x):e._=x,x.VERSION="1.4.4";var T=x.each=x.forEach=function(e,t,r){if(e==null)return;if(c&&e.forEach===c)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,s=e.length;i<s;i++)if(t.call(r,e[i],i,e)===n)return}else for(var o in e)if(x.has(e,o)&&t.call(r,e[o],o,e)===n)return};x.map=x.collect=function(e,t,n){var r=[];return e==null?r:h&&e.map===h?e.map(t,n):(T(e,function(e,i,s){r[r.length]=t.call(n,e,i,s)}),r)};var N="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(p&&e.reduce===p)return r&&(t=x.bind(t,r)),i?e.reduce(t,n):e.reduce(t);T(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)});if(!i)throw new TypeError(N);return n},x.reduceRight=x.foldr=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(d&&e.reduceRight===d)return r&&(t=x.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(s!==+s){var o=x.keys(e);s=o.length}T(e,function(u,a,f){a=o?o[--s]:--s,i?n=t.call(r,n,e[a],a,f):(n=e[a],i=!0)});if(!i)throw new TypeError(N);return n},x.find=x.detect=function(e,t,n){var r;return C(e,function(e,i,s){if(t.call(n,e,i,s))return r=e,!0}),r},x.filter=x.select=function(e,t,n){var r=[];return e==null?r:v&&e.filter===v?e.filter(t,n):(T(e,function(e,i,s){t.call(n,e,i,s)&&(r[r.length]=e)}),r)},x.reject=function(e,t,n){return x.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},x.every=x.all=function(e,t,r){t||(t=x.identity);var i=!0;return e==null?i:m&&e.every===m?e.every(t,r):(T(e,function(e,s,o){if(!(i=i&&t.call(r,e,s,o)))return n}),!!i)};var C=x.some=x.any=function(e,t,r){t||(t=x.identity);var i=!1;return e==null?i:g&&e.some===g?e.some(t,r):(T(e,function(e,s,o){if(i||(i=t.call(r,e,s,o)))return n}),!!i)};x.contains=x.include=function(e,t){return e==null?!1:y&&e.indexOf===y?e.indexOf(t)!=-1:C(e,function(e){return e===t})},x.invoke=function(e,t){var n=u.call(arguments,2),r=x.isFunction(t);return x.map(e,function(e){return(r?t:e[t]).apply(e,n)})},x.pluck=function(e,t){return x.map(e,function(e){return e[t]})},x.where=function(e,t,n){return x.isEmpty(t)?n?null:[]:x[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},x.findWhere=function(e,t){return x.where(e,t,!0)},x.max=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&x.isEmpty(e))return-Infinity;var r={computed:-Infinity,value:-Infinity};return T(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o>=r.computed&&(r={value:e,computed:o})}),r.value},x.min=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&x.isEmpty(e))return Infinity;var r={computed:Infinity,value:Infinity};return T(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o<r.computed&&(r={value:e,computed:o})}),r.value},x.shuffle=function(e){var t,n=0,r=[];return T(e,function(e){t=x.random(n++),r[n-1]=r[t],r[t]=e}),r};var k=function(e){return x.isFunction(e)?e:function(t){return t[e]}};x.sortBy=function(e,t,n){var r=k(t);return x.pluck(x.map(e,function(e,t,i){return{value:e,index:t,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index<t.index?-1:1}),"value")};var L=function(e,t,n,r){var i={},s=k(t||x.identity);return T(e,function(t,o){var u=s.call(n,t,o,e);r(i,u,t)}),i};x.groupBy=function(e,t,n){return L(e,t,n,function(e,t,n){(x.has(e,t)?e[t]:e[t]=[]).push(n)})},x.countBy=function(e,t,n){return L(e,t,n,function(e,t){x.has(e,t)||(e[t]=0),e[t]++})},x.sortedIndex=function(e,t,n,r){n=n==null?x.identity:k(n);var i=n.call(r,t),s=0,o=e.length;while(s<o){var u=s+o>>>1;n.call(r,e[u])<i?s=u+1:o=u}return s},x.toArray=function(e){return e?x.isArray(e)?u.call(e):e.length===+e.length?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return e==null?0:e.length===+e.length?e.length:x.keys(e).length},x.first=x.head=x.take=function(e,t,n){return e==null?void 0:t!=null&&!n?u.call(e,0,t):e[0]},x.initial=function(e,t,n){return u.call(e,0,e.length-(t==null||n?1:t))},x.last=function(e,t,n){return e==null?void 0:t!=null&&!n?u.call(e,Math.max(e.length-t,0)):e[e.length-1]},x.rest=x.tail=x.drop=function(e,t,n){return u.call(e,t==null||n?1:t)},x.compact=function(e){return x.filter(e,x.identity)};var A=function(e,t,n){return T(e,function(e){x.isArray(e)?t?o.apply(n,e):A(e,t,n):n.push(e)}),n};x.flatten=function(e,t){return A(e,t,[])},x.without=function(e){return x.difference(e,u.call(arguments,1))},x.uniq=x.unique=function(e,t,n,r){x.isFunction(t)&&(r=n,n=t,t=!1);var i=n?x.map(e,n,r):e,s=[],o=[];return T(i,function(n,r){if(t?!r||o[o.length-1]!==n:!x.contains(o,n))o.push(n),s.push(e[r])}),s},x.union=function(){return x.uniq(a.apply(r,arguments))},x.intersection=function(e){var t=u.call(arguments,1);return x.filter(x.uniq(e),function(e){return x.every(t,function(t){return x.indexOf(t,e)>=0})})},x.difference=function(e){var t=a.apply(r,u.call(arguments,1));return x.filter(e,function(e){return!x.contains(t,e)})},x.zip=function(){var e=u.call(arguments),t=x.max(x.pluck(e,"length")),n=new Array(t);for(var r=0;r<t;r++)n[r]=x.pluck(e,""+r);return n},x.object=function(e,t){if(e==null)return{};var n={};for(var r=0,i=e.length;r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},x.indexOf=function(e,t,n){if(e==null)return-1;var r=0,i=e.length;if(n){if(typeof n!="number")return r=x.sortedIndex(e,t),e[r]===t?r:-1;r=n<0?Math.max(0,i+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;r<i;r++)if(e[r]===t)return r;return-1},x.lastIndexOf=function(e,t,n){if(e==null)return-1;var r=n!=null;if(b&&e.lastIndexOf===b)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);var i=r?n:e.length;while(i--)if(e[i]===t)return i;return-1},x.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=new Array(r);while(i<r)s[i++]=e,e+=n;return s},x.bind=function(e,t){if(e.bind===S&&S)return S.apply(e,u.call(arguments,1));var n=u.call(arguments,2);return function(){return e.apply(t,n.concat(u.call(arguments)))}},x.partial=function(e){var t=u.call(arguments,1);return function(){return e.apply(this,t.concat(u.call(arguments)))}},x.bindAll=function(e){var t=u.call(arguments,1);return t.length===0&&(t=x.functions(e)),T(t,function(t){e[t]=x.bind(e[t],e)}),e},x.memoize=function(e,t){var n={};return t||(t=x.identity),function(){var r=t.apply(this,arguments);return x.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},x.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},x.defer=function(e){return x.delay.apply(x,[e,1].concat(u.call(arguments,1)))},x.throttle=function(e,t){var n,r,i,s,o=0,u=function(){o=new Date,i=null,s=e.apply(n,r)};return function(){var a=new Date,f=t-(a-o);return n=this,r=arguments,f<=0?(clearTimeout(i),i=null,o=a,s=e.apply(n,r)):i||(i=setTimeout(u,f)),s}},x.debounce=function(e,t,n){var r,i;return function(){var s=this,o=arguments,u=function(){r=null,n||(i=e.apply(s,o))},a=n&&!r;return clearTimeout(r),r=setTimeout(u,t),a&&(i=e.apply(s,o)),i}},x.once=function(e){var t=!1,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}},x.wrap=function(e,t){return function(){var n=[e];return o.apply(n,arguments),t.apply(this,n)}},x.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},x.after=function(e,t){return e<=0?t():function(){if(--e<1)return t.apply(this,arguments)}},x.keys=E||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)x.has(e,n)&&(t[t.length]=n);return t},x.values=function(e){var t=[];for(var n in e)x.has(e,n)&&t.push(e[n]);return t},x.pairs=function(e){var t=[];for(var n in e)x.has(e,n)&&t.push([n,e[n]]);return t},x.invert=function(e){var t={};for(var n in e)x.has(e,n)&&(t[e[n]]=n);return t},x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()},x.extend=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},x.pick=function(e){var t={},n=a.apply(r,u.call(arguments,1));return T(n,function(n){n in e&&(t[n]=e[n])}),t},x.omit=function(e){var t={},n=a.apply(r,u.call(arguments,1));for(var i in e)x.contains(n,i)||(t[i]=e[i]);return t},x.defaults=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]==null&&(e[n]=t[n])}),e},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e};var O=function(e,t,n,r){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var i=f.call(e);if(i!=f.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return!1;var s=n.length;while(s--)if(n[s]==e)return r[s]==t;n.push(e),r.push(t);var o=0,u=!0;if(i=="[object Array]"){o=e.length,u=o==t.length;if(u)while(o--)if(!(u=O(e[o],t[o],n,r)))break}else{var a=e.constructor,l=t.constructor;if(a!==l&&!(x.isFunction(a)&&a instanceof a&&x.isFunction(l)&&l instanceof l))return!1;for(var c in e)if(x.has(e,c)){o++;if(!(u=x.has(t,c)&&O(e[c],t[c],n,r)))break}if(u){for(c in t)if(x.has(t,c)&&!(o--))break;u=!o}}return n.pop(),r.pop(),u};x.isEqual=function(e,t){return O(e,t,[],[])},x.isEmpty=function(e){if(e==null)return!0;if(x.isArray(e)||x.isString(e))return e.length===0;for(var t in e)if(x.has(e,t))return!1;return!0},x.isElement=function(e){return!!e&&e.nodeType===1},x.isArray=w||function(e){return f.call(e)=="[object Array]"},x.isObject=function(e){return e===Object(e)},T(["Arguments","Function","String","Number","Date","RegExp"],function(e){x["is"+e]=function(t){return f.call(t)=="[object "+e+"]"}}),x.isArguments(arguments)||(x.isArguments=function(e){return!!e&&!!x.has(e,"callee")}),typeof /./!="function"&&(x.isFunction=function(e){return typeof e=="function"}),x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&e!=+e},x.isBoolean=function(e){return e===!0||e===!1||f.call(e)=="[object Boolean]"},x.isNull=function(e){return e===null},x.isUndefined=function(e){return e===void 0},x.has=function(e,t){return l.call(e,t)},x.noConflict=function(){return e._=t,this},x.identity=function(e){return e},x.times=function(e,t,n){var r=Array(e);for(var i=0;i<e;i++)r[i]=t.call(n,i);return r},x.random=function(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var M={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};M.unescape=x.invert(M.escape);var _={escape:new RegExp("["+x.keys(M.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(M.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(e){x[e]=function(t){return t==null?"":(""+t).replace(_[e],function(t){return M[e][t]})}}),x.result=function(e,t){if(e==null)return null;var n=e[t];return x.isFunction(n)?n.call(e):n},x.mixin=function(e){T(x.functions(e),function(t){var n=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),j.call(this,n.apply(x,e))}})};var D=0;x.uniqueId=function(e){var t=++D+"";return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var P=/(.)^/,H={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(e,t,n){var r;n=x.defaults({},n,x.templateSettings);var i=new RegExp([(n.escape||P).source,(n.interpolate||P).source,(n.evaluate||P).source].join("|")+"|$","g"),s=0,o="__p+='";e.replace(i,function(t,n,r,i,u){return o+=e.slice(s,u).replace(B,function(e){return"\\"+H[e]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(o+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(o+="';\n"+i+"\n__p+='"),s=u+t.length,t}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=new Function(n.variable||"obj","_",o)}catch(u){throw u.source=o,u}if(t)return r(t,x);var a=function(e){return r.call(this,e,x)};return a.source="function("+(n.variable||"obj")+"){\n"+o+"}",a},x.chain=function(e){return x(e).chain()};var j=function(e){return this._chain?x(e).chain():e};x.mixin(x),T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];x.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),(e=="shift"||e=="splice")&&n.length===0&&delete n[0],j.call(this,n)}}),T(["concat","join","slice"],function(e){var t=r[e];x.prototype[e]=function(){return j.call(this,t.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),function(){var e=[],t=e.slice;_.inherit=function(e,n){function s(){_.isFunction(this.initialize)&&this.initialize.apply(this,arguments)}if(arguments.length===0||arguments.length>2)throw"参数错误";var r=null,i=t.call(arguments);typeof i[0]=="function"&&(r=i.shift()),i=i[0],s.superclass=r;if(r){var o=function(){};o.prototype=r.prototype,s.prototype=new o}var u=s.superclass&&s.superclass.prototype;for(var a in i){var f=i[a];if(u&&typeof f=="function"){var l=/^\s*function\s*\(([^\(\)]*?)\)\s*?\{/i.exec(f.toString())[1].replace(/\s/g,"").split(",");l[0]==="$super"&&u[a]&&(f=function(e,n){return function(){var r=this,i=[function(){return u[e].apply(r,arguments)}];return n.apply(this,i.concat(t.call(arguments)))}}(a,f))}if(_.isObject(s.prototype[a])&&_.isObject(f)&&typeof s.prototype[a]!="function"&&typeof f!="fuction"){var c={};_.extend(c,s.prototype[a]),_.extend(c,f),s.prototype[a]=c}else s.prototype[a]=f}s.prototype.initialize||(s.prototype.initialize=function(){});for(key in r)r.hasOwnProperty(key)&&key!=="prototype"&&key!=="superclass"&&(s[key]=r[key]);return s.prototype.constructor=s,s}}(),function(){_.getUrlParam=function(e,t){e||(e=window.location.href);var n=/([^&=?]+)=([^&]+)/g,r=/\/+.*\?/,i=/(.+)\[\]$/,s={},o,u,a,f;while(o=n.exec(e)){u=o[1],a=o[2],f=u.match(i);if(r.test(a)){s[u]=e.substr(e.indexOf(a));break}f?(u=f[1],s[u]=s[u]||[],s[u].push(a)):s[u]=a}return t?s[t]:s},_.removeAllSpace=function(e){return e.replace(/\s+/g,"")}}(),function(){function s(e,t,n,r,i){var s=Math.abs(e-t),o=Math.abs(n-r),u=s>=o?e-t>0?"left":"right":n-r>0?"up":"down";return i&&(u=="left"||u=="right"?o/s>i&&(u=""):(u=="up"||u=="down")&&s/o>i&&(u="")),u}function o(o,u,a,f,l,c){if(!o||!o[0])return;var h="",p=c||e;if(o[0].__flipEventObj){o[0].__flipEventObj["__flip_"+u]=a;return}o[0].__flipEventObj={},o[0].__flipEventObj["__flip_"+u]=a,o.on(n,function(e){var n=e.touches&&e.touches[0]||e;t.x1=n.pageX,t.y1=n.pageY}).on(r,function(e){var n=e.touches&&e.touches[0]||e;t.x2=n.pageX,t.y2=n.pageY;if(t.x2&&Math.abs(t.x1-t.x2)>p||t.y2&&Math.abs(t.y1-t.y2)>p)h=s(t.x1,t.x2,t.y1,t.y2,l);var r=typeof f=="function"?f(h):f;r||e.preventDefault()}).on(i,function(e){var n=e.changedTouches&&e.changedTouches[0]||e;t.x2=n.pageX,t.y2=n.pageY;if(t.x2&&Math.abs(t.x1-t.x2)>p||t.y2&&Math.abs(t.y1-t.y2)>p){var r=s(t.x1,t.x2,t.y1,t.y2,l);_.isFunction(o[0].__flipEventObj["__flip_"+r])&&o[0].__flipEventObj["__flip_"+r]()}else _.isFunction(o[0].__flipEventObj.__flip_tap)&&o[0].__flipEventObj.__flip_tap();t={}})}function u(e){if(!e||!e[0])return;e.off(n).off(r).off(i),e[0].__flipEventObj&&delete e[0].__flipEventObj}var e=20,t={},n="touchstart",r="touchmove",i="touchend";"ontouchstart"in window||(n="mousedown",r="mousemove",i="mouseup"),_.flip=o,_.flipDestroy=u}(),function(){_.dateUtil={formatNum:function(e){return e<10?"0"+e:e},parse:function(e,t){if(typeof e=="undefined")return null;if(typeof t=="string"){var n=new Date(t),r=t.replace(/[^ymd]/g,"").split("");if(!r&&r.length!=3)return null;var t=t.replace(/y|m|d/g,function(e){switch(e){case"y":return"(\\d{4})";case"m":case"d":return"(\\d{1,2})"}}),i=new RegExp(t,"g"),s=i.exec(e),o={};for(var u=0,a=r.length;u<a;u++)o[r[u]]=s[u+1];return new Date(o.y,o.m-1,o.d)}return null},format:function(e,t){t=t||{type:"date",format:"Y年M月D日 H时F分S秒"},t.type==="countdown"&&!t.format&&(t.format="H时F分S秒");var n=t.format;if(t.type==="countdown"){var r={},i=parseInt(e*.001),s=i%60;i=parseInt(i/60);var o=i%60;i=parseInt(i/60);var u=parseInt(i%24),a=parseInt(i/24);return n.replace(/Y|y|M|m|D|d|H|h|F|f|S|s/g,function(e){switch(e){case"d":return a;case"D":return _.dateUtil.formatNum(a);case"h":return u;case"H":return _.dateUtil.formatNum(u);case"f":return o;case"F":return _.dateUtil.formatNum(o);case"s":return s;case"S":return _.dateUtil.formatNum(s)}})}return typeof e=="number"&&(e=new Date(e)),arguments.length<2&&!e.getTime&&(n=e,e=new Date),n.replace(/Y|y|M|m|D|d|H|h|F|f|S|s/g,function(t){switch(t){case"y":return(e.getFullYear()+"").slice(2);case"Y":return e.getFullYear();case"m":return e.getMonth()+1;case"M":return _.dateUtil.formatNum(e.getMonth()+1);case"d":return e.getDate();case"D":return _.dateUtil.formatNum(e.getDate());case"h":return e.getHours();case"H":return _.dateUtil.formatNum(e.getHours());case"f":return e.getMinutes();case"F":return _.dateUtil.formatNum(e.getMinutes());case"s":return e.getSeconds();case"S":return _.dateUtil.formatNum(e.getSeconds())}})},isDate:function(e){return typeof e=="object"&&e instanceof Date?!0:!1},isLeapYear:function(e){return _.dateUtil.isDate(e)&&(e=e.getFullYear()),e%4==0&&e%100!=0||e%400==0?!0:!1},getDaysOfMonth:function(e,t){return t--,_.dateUtil.isDate(e)&&(t=e.getMonth(),e=e.getFullYear()),[31,_.dateUtil.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},getBeginDayOfMouth:function(e,t){t--,typeof e=="object"&&e instanceof Date&&(t=e.getMonth(),e=e.getFullYear());var n=new Date(e,t,1);return n.getDay()}}}(),function(){var e={};_.setInterval=function(t,n,r){r||(r="g"),e[r]||(e[r]=[]),e[r].push(setInterval(t,n))},_.clearInterval=function(t,n){var r,i,s,o,u,a,f,l,c;if(typeof t=="number")for(r in e){i=e[r];for(o=0,u=i.length;o<u;o++)if(t==i[o]){i.splice(o,1),clearInterval(t);return}}if(typeof t=="string"){n=t,l=e[n],c=l.length;while(c!=0)_.clearInterval(l[l.length-1])}if(arguments.length==0)for(s in e)_.clearInterval(s)}}(),function(e){"use strict";["width","height"].forEach(function(t){var n=t.replace(/./,function(e){return e[0].toUpperCase()});e.fn["outer"+n]=function(e){var n=this;if(n){var r=n[t](),i={width:["left","right"],height:["top","bottom"]};return i[t].forEach(function(t){e&&(r+=parseInt(n.css("margin-"+t),10))}),r}return null}}),e.support=function(){var e={touch:!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch)};return e}(),e.touchEvents={start:e.support.touch?"touchstart":"mousedown",move:e.support.touch?"touchmove":"mousemove",end:e.support.touch?"touchend":"mouseup"},e.getTranslate=function(e,t){var n,r,i,s;return typeof t=="undefined"&&(t="x"),i=window.getComputedStyle(e,null),window.WebKitCSSMatrix?s=new WebKitCSSMatrix(i.webkitTransform==="none"?"":i.webkitTransform):(s=i.MozTransform||i.OTransform||i.MsTransform||i.msTransform||i.transform||i.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=s.toString().split(",")),t==="x"&&(window.WebKitCSSMatrix?r=s.m41:n.length===16?r=parseFloat(n[12]):r=parseFloat(n[4])),t==="y"&&(window.WebKitCSSMatrix?r=s.m42:n.length===16?r=parseFloat(n[13]):r=parseFloat(n[5])),r||0},e.requestAnimationFrame=function(e){return window.requestAnimationFrame?window.requestAnimationFrame(e):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(e):window.mozRequestAnimationFrame?window.mozRequestAnimationFrame(e):window.setTimeout(e,1e3/60)},e.cancelAnimationFrame=function(e){return window.cancelAnimationFrame?window.cancelAnimationFrame(e):window.webkitCancelAnimationFrame?window.webkitCancelAnimationFrame(e):window.mozCancelAnimationFrame?window.mozCancelAnimationFrame(e):window.clearTimeout(e)},e.fn.transitionEnd=function(e){function i(s){if(s.target!==this)return;e.call(this,s);for(n=0;n<t.length;n++)r.off(t[n],i)}var t=["webkitTransitionEnd","transitionend"],n,r=this;if(e)for(n=0;n<t.length;n++)r.on(t[n],i);return this},e.fn.dataset=function(){var t=this[0];if(t){var n={};if(t.dataset)for(var r in t.dataset)n[r]=t.dataset[r];else for(var i=0;i<t.attributes.length;i++){var s=t.attributes[i];/^data-/.test(s.name)&&(n[e.toCamelCase(s.name.split("data-")[1])]=s.value)}for(var o in n)n[o]==="false"?n[o]=!1:n[o]==="true"?n[o]=!0:parseFloat(n[o])===n[o]*1&&(n[o]=n[o]*1);return n}return undefined},e.fn.data=function(t,n){if(typeof t=="undefined")return e(this).dataset();if(typeof n=="undefined"){if(this[0]&&this[0].getAttribute){var r=this[0].getAttribute("data-"+t);return r?r:this[0].smElementDataStorage&&t in this[0].smElementDataStorage?this[0].smElementDataStorage[t]:undefined}return undefined}for(var i=0;i<this.length;i++){var s=this[i];s.smElementDataStorage||(s.smElementDataStorage={}),s.smElementDataStorage[t]=n}return this},e.fn.animationEnd=function(e){function i(s){e(s);for(n=0;n<t.length;n++)r.off(t[n],i)}var t=["webkitAnimationEnd","animationend"],n,r=this;if(e)for(n=0;n<t.length;n++)r.on(t[n],i);return this},e.fn.transition=function(e){typeof e!="string"&&(e+="ms");for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.MozTransitionDuration=n.OTransitionDuration=n.transitionDuration=e}return this},e.fn.transform=function(e){for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=e}return this},e.fn.prevAll=function(t){var n=[],r=this[0];if(!r)return e([]);while(r.previousElementSibling){var i=r.previousElementSibling;t?e(i).is(t)&&n.push(i):n.push(i),r=i}return e(n)},e.fn.nextAll=function(t){var n=[],r=this[0];if(!r)return e([]);while(r.nextElementSibling){var i=r.nextElementSibling;t?e(i).is(t)&&n.push(i):n.push(i),r=i}return e(n)},e.fn.show=function(){function t(t){var n,r;return e[t]||(n=document.createElement(t),document.body.appendChild(n),r=getComputedStyle(n,"").getPropertyValue("display"),n.parentNode.removeChild(n),r==="none"&&(r="block"),e[t]=r),e[t]}var e={};return this.each(function(){this.style.display==="none"&&(this.style.display=""),getComputedStyle(this,"").getPropertyValue("display")==="none",this.style.display=t(this.nodeName)})}}(Zepto),function(e,t){typeof define=="function"&&define.amd?e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$):typeof exports!="undefined"?t(e,exports,e._):e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(this,function(e,t,n,r){var i=e.Backbone,s=[],o=s.slice;t.VERSION="1.1.2",t.$=r,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var u=t.Events={on:function(e,t,n){if(!f(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var r=this._events[e]||(this._events[e]=[]);return r.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,r){if(!f(this,"once",e,[t,r])||!t)return this;var i=this,s=n.once(function(){i.off(e,s),t.apply(this,arguments)});return s._callback=t,this.on(e,s,r)},off:function(e,t,r){if(!this._events||!f(this,"off",e,[t,r]))return this;if(!e&&!t&&!r)return this._events=void 0,this;var i=e?[e]:n.keys(this._events);for(var s=0,o=i.length;s<o;s++){e=i[s];var u=this._events[e];if(!u)continue;if(!t&&!r){delete this._events[e];continue}var a=[];for(var l=0,c=u.length;l<c;l++){var h=u[l];(t&&t!==h.callback&&t!==h.callback._callback||r&&r!==h.context)&&a.push(h)}a.length?this._events[e]=a:delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=o.call(arguments,1);if(!f(this,"trigger",e,t))return this;var n=this._events[e],r=this._events.all;return n&&l(n,t),r&&l(r,arguments),this},listenTo:function(e,t,r){var i=this._listeningTo||(this._listeningTo={}),s=e._listenId||(e._listenId=n.uniqueId("l"));return i[s]=e,!r&&typeof t=="object"&&(r=this),e.on(t,r,this),this},listenToOnce:function(e,t,r){if(typeof t=="object"){for(var i in t)this.listenToOnce(e,i,t[i]);return this}if(a.test(t)){var s=t.split(a);for(var o=0,u=s.length;o<u;o++)this.listenToOnce(e,s[o],r);return this}if(!r)return this;var f=n.once(function(){this.stopListening(e,t,f),r.apply(this,arguments)});return f._callback=r,this.listenTo(e,t,f)},stopListening:function(e,t,r){var i=this._listeningTo;if(!i)return this;var s=!t&&!r;!r&&typeof t=="object"&&(r=this),e&&((i={})[e._listenId]=e);for(var o in i)e=i[o],e.off(t,r,this),(s||n.isEmpty(e._events))&&delete this._listeningTo[o];return this}},a=/\s+/,f=function(e,t,n,r){if(!n)return!0;if(typeof n=="object"){for(var i in n)e[t].apply(e,[i,n[i]].concat(r));return!1}if(a.test(n)){var s=n.split(a);for(var o=0,u=s.length;o<u;o++)e[t].apply(e,[s[o]].concat(r));return!1}return!0},l=function(e,t){var n,r=-1,i=e.length,s=t[0],o=t[1],u=t[2];switch(t.length){case 0:while(++r<i)(n=e[r]).callback.call(n.ctx);return;case 1:while(++r<i)(n=e[r]).callback.call(n.ctx,s);return;case 2:while(++r<i)(n=e[r]).callback.call(n.ctx,s,o);return;case 3:while(++r<i)(n=e[r]).callback.call(n.ctx,s,o,u);return;default:while(++r<i)(n=e[r]).callback.apply(n.ctx,t);return}};u.bind=u.on,u.unbind=u.off,n.extend(t,u);var c=t.Model=function(e,t){var r=e||{};t||(t={}),this.cid=n.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(r=this.parse(r,t)||{}),r=n.defaults({},r,n.result(this,"defaults")),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(c.prototype,u,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return this.get(e)!=null},matches:function(e){return n.matches(e)(this.attributes)},set:function(e,t,r){var i,s,o,u,a,f,l,c;if(e==null)return this;typeof e=="object"?(s=e,r=t):(s={})[e]=t,r||(r={});if(!this._validate(s,r))return!1;o=r.unset,a=r.silent,u=[],f=this._changing,this._changing=!0,f||(this._previousAttributes=n.clone(this.attributes),this.changed={}),c=this.attributes,l=this._previousAttributes,this.idAttribute in s&&(this.id=s[this.idAttribute]);for(i in s)t=s[i],n.isEqual(c[i],t)||u.push(i),n.isEqual(l[i],t)?delete this.changed[i]:this.changed[i]=t,o?delete c[i]:c[i]=t;if(!a){u.length&&(this._pending=r);for(var h=0,p=u.length;h<p;h++)this.trigger("change:"+u[h],this,c[u[h]],r)}if(f)return this;if(!a)while(this._pending)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var r in this.attributes)t[r]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return e==null?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?n.clone(this.changed):!1;var t,r=!1,i=this._changing?this._previousAttributes:this.attributes;for(var s in e){if(n.isEqual(i[s],t=e[s]))continue;(r||(r={}))[s]=t}return r},previous:function(e){return e==null||!this._previousAttributes?null:this._previousAttributes[e]},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=e?n.clone(e):{},e.parse===void 0&&(e.parse=!0);var t=this,r=e.success;return e.success=function(n){if(!t.set(t.parse(n,e),e))return!1;r&&r(t,n,e),t.trigger("sync",t,n,e)},D(this,e),this.sync("read",this,e)},save:function(e,t,r){var i,s,o,u=this.attributes;e==null||typeof e=="object"?(i=e,r=t):(i={})[e]=t,r=n.extend({validate:!0},r);if(i&&!r.wait){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;i&&r.wait&&(this.attributes=n.extend({},u,i)),r.parse===void 0&&(r.parse=!0);var a=this,f=r.success;return r.success=function(e){a.attributes=u;var t=a.parse(e,r);r.wait&&(t=n.extend(i||{},t));if(n.isObject(t)&&!a.set(t,r))return!1;f&&f(a,e,r),a.trigger("sync",a,e,r)},D(this,r),s=this.isNew()?"create":r.patch?"patch":"update",s==="patch"&&!r.attrs&&(r.attrs=i),o=this.sync(s,this,r),i&&r.wait&&(this.attributes=u),o},destroy:function(e){e=e?n.clone(e):{};var t=this,r=e.success,i=function(){t.stopListening(),t.trigger("destroy",t,t.collection,e)};e.success=function(n){(e.wait||t.isNew())&&i(),r&&r(t,n,e),t.isNew()||t.trigger("sync",t,n,e)};if(this.isNew())return e.success(),!1;D(this,e);var s=this.sync("delete",this,e);return e.wait||i(),s},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||_();return this.isNew()?e:e.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var r=this.validationError=this.validate(e,t)||null;return r?(this.trigger("invalid",this,r,n.extend(t,{validationError:r})),!1):!0}});var h=["keys","values","pairs","invert","pick","omit","chain","isEmpty"];n.each(h,function(e){if(!n[e])return;c.prototype[e]=function(){var t=o.call(arguments);return t.unshift(this.attributes),n[e].apply(n,t)}});var p=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),t.comparator!==void 0&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},d={add:!0,remove:!0,merge:!0},v={add:!0,remove:!1};n.extend(p.prototype,u,{model:c,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,v))},remove:function(e,t){var r=!n.isArray(e);e=r?[e]:n.clone(e),t||(t={});for(var i=0,s=e.length;i<s;i++){var o=e[i]=this.get(e[i]);if(!o)continue;var u=this.modelId(o.attributes);u!=null&&delete this._byId[u],delete this._byId[o.cid];var a=this.indexOf(o);this.models.splice(a,1),this.length--,t.silent||(t.index=a,o.trigger("remove",o,this,t)),this._removeReference(o,t)}return r?e[0]:e},set:function(e,t){t=n.defaults({},t,d),t.parse&&(e=this.parse(e,t));var r=!n.isArray(e);e=r?e?[e]:[]:e.slice();var i,s,o,u,a,f=t.at;f!=null&&(f=+f),f<0&&(f+=this.length+1);var l=this.comparator&&f==null&&t.sort!==!1,c=n.isString(this.comparator)?this.comparator:null,h=[],p=[],v={},m=t.add,g=t.merge,y=t.remove,b=!l&&m&&y?[]:!1,w=!1;for(var E=0,S=e.length;E<S;E++){o=e[E];if(u=this.get(o))y&&(v[u.cid]=!0),g&&o!==u&&(o=this._isModel(o)?o.attributes:o,t.parse&&(o=u.parse(o,t)),u.set(o,t),l&&!a&&u.hasChanged(c)&&(a=!0)),e[E]=u;else if(m){s=e[E]=this._prepareModel(o,t);if(!s)continue;h.push(s),this._addReference(s,t)}s=u||s;if(!s)continue;i=this.modelId(s.attributes),b&&(s.isNew()||!v[i])&&(b.push(s),w=w||!this.models[E]||s.cid!==this.models[E].cid),v[i]=!0}if(y){for(var E=0,S=this.length;E<S;E++)v[(s=this.models[E]).cid]||p.push(s);p.length&&this.remove(p,t)}if(h.length||w){l&&(a=!0),this.length+=h.length;if(f!=null)for(var E=0,S=h.length;E<S;E++)this.models.splice(f+E,0,h[E]);else{b&&(this.models.length=0);var x=b||h;for(var E=0,S=x.length;E<S;E++)this.models.push(x[E])}}a&&this.sort({silent:!0});if(!t.silent){var T=f!=null?n.clone(t):t;for(var E=0,S=h.length;E<S;E++)f!=null&&(T.index=f+E),(s=h[E]).trigger("add",s,this,T);(a||w)&&this.trigger("sort",this,t)}return r?e[0]:e},reset:function(e,t){t=t?n.clone(t):{};for(var r=0,i=this.models.length;r<i;r++)this._removeReference(this.models[r],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return o.apply(this.models,arguments)},get:function(e){if(e==null)return void 0;var t=this.modelId(this._isModel(e)?e.attributes:e);return this._byId[e]||this._byId[t]||this._byId[e.cid]},at:function(e){return e<0&&(e+=this.length),this.models[e]},where:function(e,t){var r=n.matches(e);return this[t?"find":"filter"](function(e){return r(e.attributes)})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),n.isString(this.comparator)||this.comparator.length===1?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return n.invoke(this.models,"get",e)},fetch:function(e){e=e?n.clone(e):{},e.parse===void 0&&(e.parse=!0);var t=e.success,r=this;return e.success=function(n){var i=e.reset?"reset":"set";r[i](n,e),t&&t(r,n,e),r.trigger("sync",r,n,e)},D(this,e),this.sync("read",this,e)},create:function(e,t){t=t?n.clone(t):{};if(!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var r=this,i=t.success;return t.success=function(e,n){t.wait&&r.add(e,t),i&&i(e,n,t)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;t=t?n.clone(t):{},t.collection=this;var r=new this.model(e,t);return r.validationError?(this.trigger("invalid",this,r.validationError,t),!1):r},_isModel:function(e){return e instanceof c},_addReference:function(e,t){this._byId[e.cid]=e;var n=this.modelId(e.attributes);n!=null&&(this._byId[n]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if((e==="add"||e==="remove")&&n!==this)return;e==="destroy"&&this.remove(t,r);if(e==="change"){var i=this.modelId(t.previousAttributes()),s=this.modelId(t.attributes);i!==s&&(i!=null&&delete this._byId[i],s!=null&&(this._byId[s]=t))}this.trigger.apply(this,arguments)}});var m=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample","partition"];n.each(m,function(e){if(!n[e])return;p.prototype[e]=function(){var t=o.call(arguments);return t.unshift(this.models),n[e].apply(n,t)}});var g=["groupBy","countBy","sortBy","indexBy"];n.each(g,function(e){if(!n[e])return;p.prototype[e]=function(t,r){var i=n.isFunction(t)?t:function(e){return e.get(t)};return n[e](this.models,i,r)}});var y=t.View=function(e){this.cid=n.uniqueId("view"),e||(e={}),n.extend(this,n.pick(e,w)),this._ensureElement(),this.initialize.apply(this,arguments)},b=/^(\S+)\s*(.*)$/,w=["model","collection","el","id","attributes","className","tagName","events"];n.extend(y.prototype,u,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0]},delegateEvents:function(e){if(!e&&!(e=n.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var r=e[t];n.isFunction(r)||(r=this[e[t]]);if(!r)continue;var i=t.match(b);this.delegate(i[1],i[2],n.bind(r,this))}return this},delegate:function(e,t,n){this.$el.on(e+".delegateEvents"+this.cid,t,n)},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,n){this.$el.off(e+".delegateEvents"+this.cid,t,n)},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(!this.el){var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e["class"]=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(e)}else this.setElement(n.result(this,"el"))},_setAttributes:function(e){this.$el.attr(e)}}),t.sync=function(e,r,i){var s=E[e];n.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var o={type:s,dataType:"json"};i.url||(o.url=n.result(r,"url")||_()),i.data==null&&r&&(e==="create"||e==="update"||e==="patch")&&(o.contentType="application/json",o.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{});if(i.emulateHTTP&&(s==="PUT"||s==="DELETE"||s==="PATCH")){o.type="POST",i.emulateJSON&&(o.data._method=s);var u=i.beforeSend;i.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",s);if(u)return u.apply(this,arguments)}}o.type!=="GET"&&!i.emulateJSON&&(o.processData=!1);var a=i.error;i.error=function(e,t,n){i.textStatus=t,i.errorThrown=n,a&&a.apply(this,arguments)};var f=i.xhr=t.ajax(n.extend(o,i));return r.trigger("request",r,f,i),f};var E={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var S=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},x=/\((.*?)\)/g,T=/(\(\?)?:\w+/g,N=/\*\w+/g,C=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(S.prototype,u,{initialize:function(){},route:function(e,r,i){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var s=this;return t.history.route(e,function(n){var o=s._extractParameters(e,n);s.execute(i,o,r)!==!1&&(s.trigger.apply(s,["route:"+r].concat(o)),s.trigger("route",r,o),t.history.trigger("route",s,r,o))}),this},execute:function(e,t,n){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(!this.routes)return;this.routes=n.result(this,"routes");var e,t=n.keys(this.routes);while((e=t.pop())!=null)this.route(e,this.routes[e])},_routeToRegExp:function(e){return e=e.replace(C,"\\$&").replace(x,"(?:$1)?").replace(T,function(e,t){return t?e:"([^/?]+)"}).replace(N,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var r=e.exec(t).slice(1);return n.map(r,function(e,t){return t===r.length-1?e||null:e?decodeURIComponent(e):null})}});var k=t.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),typeof window!="undefined"&&(this.location=window.location,this.history=window.history)},L=/^[#\/]|\s+$/g,A=/^\/+|\/+$/g,O=/#.*$/;k.started=!1,n.extend(k.prototype,u,{interval:50,atRoot:function(){var e=this.location.pathname.replace(/[^\/]$/,"$&/");return e===this.root&&!this.getSearch()},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=decodeURI(this.location.pathname+this.getSearch()),t=this.root.slice(0,-1);return e.indexOf(t)||(e=e.slice(t.length)),e.charAt(0)==="/"?e.slice(1):e},getFragment:function(e){return e==null&&(this._hasPushState||!this._wantsHashChange?e=this.getPath():e=this.getHash()),e.replace(L,"")},start:function(e){if(k.started)throw new Error("Backbone.history has already been started");k.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState),this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(A,"/");if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&(!this._wantsPushState||!this._hasPushState)){var r=document.createElement("iframe");r.src="javascript:0",r.style.display="none",r.tabIndex=-1;var i=document.body;this.iframe=i.insertBefore(r,i.firstChild).contentWindow,this.iframe.document.open().close(),this.iframe.location.hash="#"+this.fragment}var s=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};this._hasPushState?s("popstate",this.checkUrl,!1):this._wantsHashChange&&this._hasHashChange&&!this.iframe?s("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));if(!this.options.silent)return this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._hasPushState?e("popstate",this.checkUrl,!1):this._wantsHashChange&&this._hasHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe.frameElement),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),k.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe));if(t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return e=this.fragment=this.getFragment(e),n.any(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0})},navigate:function(e,t){if(!k.started)return!1;if(!t||t===!0)t={trigger:!!t};e=this.getFragment(e||"");var n=this.root;if(e===""||e.charAt(0)==="?")n=n.slice(0,-1)||"/";var r=n+e;e=decodeURI(e.replace(O,""));if(this.fragment===e)return;this.fragment=e;if(this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getHash(this.iframe)&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}if(t.trigger)return this.loadUrl(e)},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),t.history=new k;var M=function(e,t){var r=this,i;e&&n.has(e,"constructor")?i=e.constructor:i=function(){return r.apply(this,arguments)},n.extend(i,r,t);var s=function(){this.constructor=i};return s.prototype=r.prototype,i.prototype=new s,e&&n.extend(i.prototype,e),i.__super__=r.prototype,i};c.extend=p.extend=S.extend=y.extend=k.extend=M;var _=function(){throw new Error('A "url" property or function must be specified')},D=function(e,t){var n=t.error;t.error=function(r){n&&n(e,r,t),e.trigger("error",e,r,t)}};return t}),function(e){function v(i){if(i.targetTouches.length>1)return!0;s=i.target;var a=e(s).closest(".nofastclick");if(a.length>0||S(s))return!0;if(h){var f=window.getSelection();if(f.rangeCount&&!f.isCollapsed)return!0;if(i.targetTouches[0].identifier===p)return event.preventDefault(),!1;p=i.targetTouches[0].identifier}return t=!0,n=i.timeStamp,o=i.targetTouches[0].pageX,u=i.targetTouches[0].pageY,i.timeStamp-r<0&&(r=i.timeStamp),i.timeStamp-r<200&&i.preventDefault(),!0}function m(e){if(!t)return!0;a=e.changedTouches[0].pageX,f=e.changedTouches[0].pageY;if(Math.abs(a-o)>l||Math.abs(f-u)>l)s=null,t=!1;return!0}function g(o){if(!t)return!0;if(o.timeStamp-r<200)return i=!0,!0;r=o.timeStamp,t=!1;var u=s.tagName.toLowerCase();if(u=="label"){var a=x(s);if(a){var f=e(a);f.attr("type")=="checkbox"||f.attr("type")=="radio"?f.attr("checked")?f.removeAttr("checked"):f.attr("checked","checked"):e(a).focus();if(c)return!1;s=a}}else if(S(s)){if(o.timeStamp-n>100)return s=null,!1;var l;return h&&s.setSelectionRange&&s.type.indexOf("date")!==0&&s.type!=="time"?(l=s.value.length,s.setSelectionRange(l,l)):s.focus(),u!=="select"&&(s=null,o.preventDefault()),!1}return n=0,E(s)||(o.preventDefault(),T(s,o)),!1}function y(e){t=!1,s=null}function b(t){var n=t.target,r=e(n).closest(".nofastclick");return r.length>0||S(n)?!0:s?t.touchEvent?!0:t.cancelable?!E(s)||i?(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0:!0:!0}function w(e){if(t)return t=!1,s=null,!0;if(e.target.type==="submit"&&e.detail===0)return!0;var n=b(e);return n||(s=null),n}function E(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(h&&e.type==="file"||e.disabled)return!0;break;case"video":return!0}return/\bneedclick\b/.test(e.className)}function S(e){switch(e.nodeName.toLowerCase()){case"textarea":case"select":return!0;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedfocus\b/.test(e.className)}}function x(e){return e.control!==undefined?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")}function T(e,t){var n,r;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),r=t.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent("click",!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),n.touchEvent=!0,e.dispatchEvent(n)}function N(){return typeof window.ontouchstart=="undefined"?!1:!0}var t=!1,n=0,r=0,i=!1,s=null,o=0,u=0,a=0,f=0,l=4,c=navigator.userAgent.indexOf("Android")>0,h=/iP(ad|hone|od)/.test(navigator.userAgent),p=0,d=h&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent);e.needFocus=S,e.bindFastClick=function(){if(!N())return!0;e(document).ready(function(){c&&(document.addEventListener("mouseover",b,!0),document.addEventListener("mousedown",b,!0),document.addEventListener("mouseup",b,!0)),document.addEventListener("click",w,!0),e(document).on("touchstart",v).on("touchmove",m).on("touchend",g).on("touchcancel",y)})},e.unbindFastClick=function(){if(!N())return!0;c&&(document.removeEventListener("mouseover",b,!0),document.removeEventListener("mousedown",b,!0),document.removeEventListener("mouseup",b,!0)),document.removeEventListener("click",w,!0),e(document).off("touchstart",v).off("touchmove",m).off("touchend",g).off("touchcancel",y)}}(Zepto),function(){var e="./blade/";require.config({shim:{$:{exports:"Zepto"},_:{exports:"_"},B:{deps:["_","$"],exports:"Backbone"},F:{deps:["$"],exports:"Fastclick"},libs:{deps:["_","$","B"],exports:"libs"},common:{deps:["libs"]},cAjax:{exports:"cAjax"},UIView:{deps:["B"],exports:"UIView"}},paths:{R:e+"libs/require",$:e+"libs/zepto",_:e+"libs/underscore",B:e+"libs/backbone",F:e+"libs/fastclick",libs:e+"libs/libs",text:e+"libs/require.text",cAjax:e+"mvc/c.ajax",AbstractApp:e+"mvc/abstract.app",AbstractModel:e+"mvc/abstract.model",AbstractView:e+"mvc/abstract.view",UIView:e+"ui/core.abstract.view",C_UIView:e+"ui/core.abstract.view.css",UIHeader:e+"ui/core.header",T_UIHeader:e+"ui/core.header.html",C_UIHeader:e+"ui/core.header.css",cPageView:e+"page/page.view",LazyLoad:e+"function/lazyload",Swiper:e+"function/swiper",UISwiper:e+"ui/ui.swiper",UIDownTip:e+"ui/ui.downtip",UIMask:e+"ui/ui.mask",UILayer:e+"ui/ui.layer",T_UILayer:e+"ui/ui.layer.html",UILoadingLayer:e+"ui/ui.loading.layer",T_UILoadingLayer:e+"ui/ui.loading.layer.html",UIToast:e+"ui/ui.toast",T_UIToast:e+"ui/ui.toast.html"}})}(),define("libs",function(){}),define("cAjax",[],function(){function t(e,t,n,r){return{url:e,data:t,callback:n,error:r}}function r(e,n,r,i){var s=t(e,n,r,i);return s.type="GET",a(s)}function i(e,r,i,s){var o=r.contentType;r=JSON.stringify(r);var u=t(e,r,i,s);return u.type="POST",u.dataType="json",u.timeout=3e4,u.contentType=n(o)||"application/json",a(u)}function s(e,n,r,i){var s=t(e,n,r,i);return s.type="GET",s.dataType="jsonp",s.crossDomain=!0,a(s)}function o(e,r,i,s,o){var u=i.contentType;r.toLowerCase()!=="get"&&(i=JSON.stringify(i));var f=t(e,i,s,o);return f.type=r,f.dataType="json",f.crossDomain=!0,f.data=i,f.contentType=n(u)||"application/json",a(f)}function u(e,n,r,i){var s=null,o="";typeof n=="string"?s=$("#"+n):s=$(n),s&&s.length>0&&(o=s.serialize());var u=t(e,o,r,i);return a(u)}function a(e){var t=(new Date).getTime(),n={url:e.url,type:e.type,dataType:e.dataType,data:e.data,contentType:e.contentType,timeout:e.timeout||5e4,success:function(t){t&&t.errno===0?e.callback(t):e.error&&e.error(t)},error:function(e){}};return delete n.data.contentType,delete n.contentType,e.url.indexOf(window.location.host)===-1&&(n.crossDomain=!!e.crossDomain),$.ajax(n)}var e={json:"application/json; charset=utf-8",jsonp:"application/json"},n=function(t){return t&&(t=e[t]?e[t]:t),t};return{get:r,post:i,jsonp:s,cros:o,form:u}}),define("UIView",[],function(){"use strict";var e=function(){var e=3e3;return function(t){return t+ ++e}}();return _.inherit({propertys:function(){this.wrapper=$("body"),this.id=_.uniqueId("ui-view-"),this.uiStyle=[],typeof style!="undefined"&&style&&(this.uiStyle=[style]),this.formateStyle="",this.shadowStyle=null,this.shadowRoot=null,this.openShadowDom=!1,this.needEmptyWrapper=!1,this.template="",this.events={},this.eventArr={},this.status="init",this.uiType=["abstractView"],this.needAnimat=!1,this.animateShowAction=null,this.animateHideAction=null},setUIType:function(e){_.isString(e)&&this.uiType.push(e)},getViewModel:function(){return _.isObject(this.datamodel)?this.datamodel:{}},_getDefaultViewModel:function(e){var t,n,r,i={};for(n=0,r=e.length;n<r;n++)t=e[n],i[t]=this[t];return i},addEvents:function(e){_.isObject(e)&&_.extend(this.events,e)},addUIStyle:function(e){this.uiStyle.push(e)},_preventDefault:function(e){e.preventDefault()},on:function(e,t,n){this.eventArr[e]||(this.eventArr[e]=[]),n?this.eventArr[e].splice(0,0,t):this.eventArr[e].push(t)},off:function(e,t){if(!this.eventArr[e])return;t?this.eventArr[e]=_.without(this.eventArr[e],t):this.eventArr[e]=[]},trigger:function(e){var t=Array.prototype.slice,n=t.call(arguments,1),r=this.eventArr,i=[],s,o;if(r[e])for(s=0,o=r[e].length;s<o;s++)i[i.length]=r[e][s].apply(this,n);return i},createRoot:function(e){this.$root=$('<div class="view" style="display: none; " id="'+this.id+'"></div>'),this.formateStyle=this.getInlineStyle(),this.shadowStyle=$(this.formateStyle),this.$el=$('<div class="js_shadow_root">'+e+"</div>"),this.openShadowDom?(this.shadowRoot=$(this.$root[0].createShadowRoot()),this.shadowRoot.append(this.shadowStyle),this.shadowRoot.append(this.$el)):this.$root.append(this.$el)},getInlineStyle:function(){if(!this.uiStyle||!_.isArray(this.uiStyle))return"";var e=this.uiStyle.join(""),t=this.id;return this.openShadowDom||(e=e.replace(/(\s*)([^\{\}]+)\{/g,function(e,n,r){return n+r.replace(/([^,]+)/g,"#"+t+" $1")+"{"})),'<style class="js_shadow_style">'+e+"</style>"},_isAddEvent:function(e){return e=="onCreate"||e=="onPreShow"||e=="onShow"||e=="onRefresh"||e=="onHide"?!0:!1},setOption:function(e){for(var t in e){if(t=="events"){_.extend(this[t],e[t]);continue}if(this._isAddEvent(t)){this.on(t,e[t]);continue}this[t]=e[t]}},initialize:function(e){this.propertys(),this.setOption(e),this.resetPropery(),this.addEvent(),this.create(),this.initElement()},addSysEvents:function(){if(typeof this.availableFn!="function")return;this.removeSysEvents(),this.$el.on("click.system"+this.id,$.proxy(function(e){this.availableFn()||(e.preventDefault(),e.stopImmediatePropagation&&e.stopImmediatePropagation())},this))},removeSysEvents:function(){this.$el.off(".system"+this.id)},$:function(e){return this.$el.find(e)},resetPropery:function(){this.uiStyle||(this.openShadowDom=!1),this.wrapper[0].createShadowRoot||(this.openShadowDom=!1)},addEvent:function(){},create:function(){this.trigger("onPreCreate"),this.createRoot(this.render()),this.status="create",this.trigger("onCreate")},initElement:function(){},render:function(e){var t=this.getViewModel()||{},n=this.template;return this.template?(_.isFunction(this.template)?n=this.template(t):n=_.template(this.template)(t),typeof e=="function"&&e.call(this),n):""},refresh:function(e){this.resetPropery(),e?this.create():this.$el.html(this.render()),this.initElement(),this.status!="hide"&&this.show(),this.trigger("onRefresh")},show:function(){document.activeElement&&document.activeElement.blur();if(!this.wrapper[0]||!this.$root[0])return;$.contains(this.wrapper[0],this.$root[0])||(this.needEmptyWrapper&&this.wrapper.html(""),this.wrapper.append(this.$root)),this.trigger("onPreShow"),this.needAnimat&&_.isFunction(this.animateShowAction)&&this.status!="show"?this.animateShowAction.call(this,this.$root):this.$root.show(),this.status="show",this.addSysEvents(),this.bindEvents(),this.trigger("onShow")},hide:function(){if(!this.$root||this.status!=="show")return;this.trigger("onPreHide"),this.needAnimat&&_.isFunction(this.animateHideAction)&&this.status!="hide"?this.animateHideAction.call(this,this.$root):this.$root.hide(),this.status="hide",this.unBindEvents(),this.removeSysEvents(),this.trigger("onHide")},hasAnimationProperty:function(e){var t=[$.fx.cssPrefix+"animation-name"],n=$("<div></div>");return n.attr("class",e),$("body").append(n),n.css(t[0])!="none"?(n.remove(),!0):(n.remove(),!1)},destroy:function(){this.status="destroy",this.unBindEvents(),this.removeSysEvents(),this.$root.remove(),this.trigger("onDestroy"),delete this},setzIndexTop:function(t,n){t||(t=this.$root);if(!n||n>10)n=0;n*=1e3,t.css("z-index",e(n))},bindEvents:function(){var e=this.events;if(!e&&!(e=_.result(this,"events")))return this;this.unBindEvents();var t=/^(\S+)\s*(.*)$/,n,r,i,s,o;for(n in e){r=e[n],_.isFunction(r)||(r=this[e[n]]);if(!r)continue;i=n.match(t),s=i[1],o=i[2],r=_.bind(r,this),s+=".delegateUIEvents"+this.id,o===""?this.$el.on(s,r):this.$el.on(s,o,r)}return this},unBindEvents:function(){return this.$el.off(".delegateUIEvents"+this.id),this}})}),define("text",["module"],function(e){"use strict";var t,n,r,i,s=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],o=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,u=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,a=typeof location!="undefined"&&location.href,f=a&&location.protocol&&location.protocol.replace(/\:/,""),l=a&&location.hostname,c=a&&(location.port||undefined),h=[],p=e.config&&e.config()||{};t={version:"2.0.5+",strip:function(e){if(e){e=e.replace(o,"");var t=e.match(u);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:p.createXhr||function(){var e,t,n;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(t=0;t<3;t+=1){n=s[t];try{e=new ActiveXObject(n)}catch(r){}if(e){s=[n];break}}return e},parseName:function(e){var t,n,r,i=!1,s=e.indexOf("."),o=e.indexOf("./")===0||e.indexOf("../")===0;return s!==-1&&(!o||s>1)?(t=e.substring(0,s),n=e.substring(s+1,e.length)):t=e,r=n||t,s=r.indexOf("!"),s!==-1&&(i=r.substring(s+1)==="strip",r=r.substring(0,s),n?n=r:t=r),{moduleName:t,ext:n,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,r,i){var s,o,u,a=t.xdRegExp.exec(e);return a?(s=a[2],o=a[3],o=o.split(":"),u=o[1],o=o[0],(!s||s===n)&&(!o||o.toLowerCase()===r.toLowerCase())&&(!u&&!o||u===i)):!0},finishLoad:function(e,n,r,i){r=n?t.strip(r):r,p.isBuild&&(h[e]=r),i(r)},load:function(e,n,r,i){if(i.isBuild&&!i.inlineText){r();return}p.isBuild=i.isBuild;var s=t.parseName(e),o=s.moduleName+(s.ext?"."+s.ext:""),u=n.toUrl(o),h=p.useXhr||t.useXhr;!a||h(u,f,l,c)?t.get(u,function(n){t.finishLoad(e,s.strip,n,r)},function(e){r.error&&r.error(e)}):n([o],function(e){t.finishLoad(s.moduleName+"."+s.ext,s.strip,e,r)})},write:function(e,n,r,i){if(h.hasOwnProperty(n)){var s=t.jsEscape(h[n]);r.asModule(e+"!"+n,"define(function () { return '"+s+"';});\n")}},writeFile:function(e,n,r,i,s){var o=t.parseName(n),u=o.ext?"."+o.ext:"",a=o.moduleName+u,f=r.toUrl(o.moduleName+u)+".js";t.load(a,r,function(n){var r=function(e){return i(f,e)};r.asModule=function(e,t){return i.asModule(e,f,t)},t.write(e,a,r,s)},s)}};if(p.env==="node"||!p.env&&typeof process!="undefined"&&process.versions&&!!process.versions.node)n=require.nodeRequire("fs"),t.get=function(e,t){var r=n.readFileSync(e,"utf8");r.indexOf("﻿")===0&&(r=r.substring(1)),t(r)};else if(p.env==="xhr"||!p.env&&t.createXhr())t.get=function(e,n,r,i){var s=t.createXhr(),o;s.open("GET",e,!0);if(i)for(o in i)i.hasOwnProperty(o)&&s.setRequestHeader(o.toLowerCase(),i[o]);p.onXhr&&p.onXhr(s,e),s.onreadystatechange=function(t){var i,o;s.readyState===4&&(i=s.status,i>399&&i<600?(o=new Error(e+" HTTP status: "+i),o.xhr=s,r(o)):n(s.responseText))},s.send(null)};else if(p.env==="rhino"||!p.env&&typeof Packages!="undefined"&&typeof java!="undefined")t.get=function(e,t){var n,r,i="utf-8",s=new java.io.File(e),o=java.lang.System.getProperty("line.separator"),u=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),i)),a="";try{n=new java.lang.StringBuffer,r=u.readLine(),r&&r.length()&&r.charAt(0)===65279&&(r=r.substring(1)),n.append(r);while((r=u.readLine())!==null)n.append(o),n.append(r);a=String(n.toString())}finally{u.close()}t(a)};else if(p.env==="xpconnect"||!p.env&&typeof Components!="undefined"&&Components.classes&&Components.interfaces)r=Components.classes,i=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),t.get=function(e,t){var n,s,o={},u=new FileUtils.File(e);try{n=r["@mozilla.org/network/file-input-stream;1"].createInstance(i.nsIFileInputStream),n.init(u,1,0,!1),s=r["@mozilla.org/intl/converter-input-stream;1"].createInstance(i.nsIConverterInputStream),s.init(n,"utf-8",n.available(),i.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),s.readString(n.available(),o),s.close(),n.close(),t(o.value)}catch(a){throw new Error((u&&u.path||"")+": "+a)}};return t}),define("text!T_UIHeader",[],function(){return"\n<div class=\"cm-header\">\n<%\n\nvar i = 0, len = 0, j = 0, jj = 0;\nvar left = left;\nvar center = center;\nvar right =  right.reverse();\nvar item = null;\nvar outhtml = ''\nvar dir;\nvar btnObj = null;\n\n%>\n\n<%for(jj=0; jj < 2; jj++) { %>\n  <%\n    if(jj == 0) { dir = 'fl'; btnObj = left; } else { dir = 'fr'; btnObj = right; }\n  %>\n  <% for(i = 0, len = btnObj.length; i < len; i++) { %>\n    <% item = btnObj[i]; %>\n    <%if(typeof item.itemFn == 'function') { %>\n      <%=item.itemFn() %>\n    <%} else { %>\n      <span class=\" cm-header-<%=(item.value ? 'btn' : 'icon') %> <%=dir %>  js_<%=item.tagname %>\" >\n        <% if(item.value) { %>\n          <%=item.value %>\n        <% } else { %>\n          <i class=\"icon icon-<%=item.tagname %>\"></i>\n        <% } %>\n      </span>\n    <%} %>\n  <%} %>\n<%} %>\n\n<% item = center; %>\n<%if(typeof item.itemFn == 'function') { %>\n  <%=item.itemFn() %>\n<%} else if(item.tagname=='title' ||  item.tagname=='subtitle') { %>\n  <div class=\"cm-page-title js_<%=item.tagname %>\" >\n    <%if(_.isArray(item.value) && item.value.length == 2) { %>\n      <span class=\"cm-title-l\"><%=item.value[0]%></span>\n      <span class=\"cm-title-s\"><%=item.value[1]%></span>\n    <%} else { %>\n      <%=item.value || item.value[0]%>\n    <%} %>\n  </div>\n<%} else if(item.tagname=='select'){ %>\n  <div class=\"cm-page-select-title js_<%=item.tagname %>\" >\n    <%=item.value %>\n  </div>\n<%} else if(item.tagname=='tabs') { %>\n  <div class=\"cm-page-tabs-title js_<%=item.tagname %>\" >\n    <%for(j = 0; j < item.data.items.length; j ++) { %>\n      <span data-key=\"<%=item.data.items[j].id %>\" data-index=\"<%=j %>\" class=\"<%if(item.data.index==j){ %>active<%} %>\" ><%=item.data.items[j].name %></span>\n    <% } %>\n  </div>\n<% } else{ %>\n\n<%} %>\n\n</div>\n"}),define("UIHeader",["UIView","text!T_UIHeader"],function(e,t){return _.inherit(e,{propertys:function($super){$super(),this.viewScope,this.datamodel={left:[],right:[],center:{}},this.template=t,this.openShadowDom=!1,this.needEmptyWrapper=!0,this.events={}},resetPropery:function($super){$super(),this.root&&this.root[0]&&(this.wrapper=this.root)},set:function(e){this.setOption(e),this._originData=e;if(typeof e!="object")return;e.events||(e.events={}),e.view&&(this.viewScope=e.view);var t={left:[],right:[],center:{}},n={};e.back!==!1&&(_.isObject(e.back)?t.left.push(e.back):_.isString(e.backtext)?(n.tagname="back",n.value=e.backtext,_.isFunction(e.events.returnHandler)&&(n.callback=e.events.returnHandler),t.left.push(n)):_.find(e.left,function(e){return e.tagname=="back"})||t.left.push({tagname:"back",callback:e.events.returnHandler})),_.isObject(e.tel)&&t.right.push({tagname:"tel",number:e.tel.number,callback:e.events.telHandler}),e.home&&t.right.push({tagname:"home",callback:e.events.homeHandler}),_.isObject(e.btn)&&t.right.push({tagname:"commit",value:e.btn.title,classname:e.btn.classname,data:e.btn.data,callback:e.events.commitHandler}),_.isArray(e.moreMenus)&&t.right.push({tagname:"list",data:e.moreMenus});var r={};_.isString(e.title)&&(r.tagname="title",r.value=e.title),_.isString(e.subtitle)&&(r.tagname="subtitle",r.value=[e.title,e.subtitle]),_.isString(e.citybtn)&&(r.tagname="select",r.value=e.citybtn,r.callback=e.events.citybtnHandler),_.isObject(e.title)&&(r=e.title),t.center=r,e.left&&(t.left=e.left.concat(t.left)),e.right&&(t.right=e.right.concat(t.right));var i=_.groupBy(t.right,function(e){return e.tagname=="list"?"a":"b"});t.right=(i.b||[]).concat(i.a||[]),_.isObject(e.center)&&(t.center=e.center),this.handleSpecialParam(t),this.datamodel=t,this.setEventsParam(),this.datamodel.left[0]&&_.isFunction(this.datamodel.left[0].callback)&&(this.lastReturnHandler=this.datamodel.left[0].callback),this.refresh(!0),this.show()},listDefaultCallback:function(e){var t,n,r=_.find(this.datamodel.right,function(e){return e.tagname=="list"});if(!r)return;this.sidebar||(this.sidebar=new UIBubbleLayer({datamodel:{data:r.data,wrapperClass:"cm-pop--user-nav",itemFn:function(e){var t=e.iconname||e.tagname;return'<i class="icon-'+t+'"></i>'+e.value}},triangleRight:"16px",triggerEl:$(e.currentTarget),width:"128px",onCreate:function(){this.mask.$el.addClass("cm-overlay--transparent"),this.mask.$el.removeClass("cui-mask")},onClick:function(e,t,n){_.isFunction(e.callback)&&e.callback.call(this.viewScope,e,t,n),this.hide()}})),this.sidebar.status=="show"?this.sidebar.hide():this.sidebar.show()},backDefaultCallback:function(){if(this.lastReturnHandler){this.lastReturnHandler.call(this.viewScope);return}console.log("默认back回调"),Blade.back()},setEventsParam:function(){var e,t=null,n=this.datamodel.left.concat(this.datamodel.right).concat(this.datamodel.center);for(var r=0,i=n.length;r<i;r++)e=n[r],_.isFunction(this[e.tagname+"DefaultCallback"])&&(t=this[e.tagname+"DefaultCallback"]),_.isFunction(e.callback)&&(t=$.proxy(e.callback,this.viewScope)),t&&(this.events["click .js_"+e.tagname]=t),t=null},handleSpecialParam:function(e){var t,n,r,i;for(t in e)if(_.isArray(e[t]))for(n=0,r=e[t].length;n<r;n++)i=e[t][n],this["customtHandle_"+i.tagname]&&this["customtHandle_"+i.tagname](e[t][n],t)},_getDir:function(e){var t={left:"fl",right:"fr"};return t[e]},customtHandle_tel:function(e,t){t=this._getDir(t),e.itemFn=function(){return'<a href="tel:'+e.number+'" class="cm-header-icon __hreftel__ '+t+" js_"+e.tagname+' " ><i class="icon-'+e.tagname+'"></i></a>'}},addEvent:function(){this.on("onShow",function(){this.wrapper.height("44px"),this.$el.removeClass("cm-header--no-right"),this.datamodel.right.length===0&&this.$el.addClass("cm-header--no-right")})},updateHeader:function(e,t){_.isObject(e)?this.set(_.extend(this._originData,e)):_.isObject(this._originData)?this.set(_.extend(this._originData,_.object([e],[t]))):this.set(_.object([e],[t]))}})}),define("UIMask",["UIView"],function(e){"use strict";return _.inherit(e,{propertys:function($super){$super(),this.setUIType("mask"),this.resetDefaultProperty()},resetDefaultProperty:function(){this.events={},this.animateOutClass="cm-overlay-out",this.addEvents({touchmove:"_preventDefault"})},setRootStyle:function(){var e=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);this.$el.addClass("cm-overlay"),this.$el.css({height:e+"px"}),this.$root.css({position:"fixed",width:"100%",left:"0px",top:"0px"})},addEvent:function($super){$super(),this.on("onShow",function(){this.setRootStyle(),this.setzIndexTop()})}})}),define("UILayer",["UIView","UIMask"],function(e,t){"use strict";return _.inherit(e,{propertys:function($super){$super(),this.mask=new t,this.setUIType("layer"),this.resetDefaultProperty()},resetDefaultProperty:function(){this.mask.resetDefaultProperty(),this.needMask=!0,this.needAnimat=!0,this.maskToHide=!0,this.needReposition=!0,this.historyBack=!1,this.animateInClass="cm-up-in",this.animateOutClass="cm-up-out",this.animateShowAction=null,this.animateHideAction=null,this.addEvents({touchmove:"_preventDefault"})},resetPropery:function($super){$super(),this._setAnimat(),this._setMaskEvent()},_setAnimat:function(){var e=this;this.needAnimat&&(this.animateShowAction||(this.animateShowAction=function(t){e._safeAnimat(t,e.animateInClass,"show")}),this.animateHideAction||(this.animateHideAction=function(t){e._safeAnimat(t,e.animateOutClass,"hide")})),this.animateHideAction?(this.mask.needAnimat=!0,this.mask.animateHideAction=function(t){e._safeAnimat(t,e.mask.animateOutClass,"hide")}):this.mask.animateHideAction=null},_safeAnimat:function(e,t,n){var r=!1;n=="show"&&e.show(),e.addClass(t),e.one($.fx.animationEnd,function(){r=!0,e.removeClass(t),n=="hide"&&e.hide()}),setTimeout(function(){if(r)return;e.removeClass(t),e.off($.fx.animationEnd),n=="hide"&&e.hide()},350)},_setMaskEvent:function(){var e=this;this.needMask&&this.maskToHide&&this.mask.addEvents({click:function(){e.hide()}})},addEvent:function(){this.on("onCreate",function(){this.$el.addClass("cui-layer")}),this.on("onPreShow",function(){this.needMask&&this.mask.show()}),this.on("onShow",function(){var e=this;this.setzIndexTop(),this.needReposition&&this.reposition()}),this.on("onHide",function(){this.mask.hide()}),this.on("onDestroy",function(){this.mask.destroy()})},reposition:function(){var e=this.$el.width();this.$root.css({width:e+"px"}),this.$root.css({position:"fixed",left:"50%",top:"50%","margin-left":-(e/2)+"px","margin-top":-(this.$el.height()/2)+"px"})}})}),define("text!T_UILoadingLayer",[],function(){return'<%\nvar hasText = (typeof content == \'string\' && content.length > 0);\n%>\n<section class="cm-loading  <%if(closeBtn){ %> cm-loading--close<% } %>">\n  <span class="preloader"></span>\n  <%if(closeBtn){ %><i class="icon-close js_close"></i><% } %>\n  <%if(hasText){ %><p class="cm-loading-text">\n    <%=content %></p>\n  <% } %>\n</section>\n'}),define("UILoadingLayer",["UILayer","text!T_UILoadingLayer"],function(e,t){"use strict";return _.inherit(e,{propertys:function($super){$super(),this.setUIType("loading"),this.resetDefaultProperty()},resetDefaultProperty:function($super){$super(),this.template=t,this.closeBtn=!1,this.content="",this.addEvents({"click .js_close":"closeAction"}),this.maskToHide=!1,this.hasPushState=!1,this.closeAction=function(e){this.hide()}},getViewModel:function(){return this._getDefaultViewModel(["closeBtn","content"])},reposition:function(){var e="60px";if(this.closeBtn||this.content.length>0)e="100px";this.$root.css({width:e}),this.$root.css({position:"fixed",left:"50%",top:"50%","margin-left":-(this.$el.width()/2)+"px","margin-top":-(this.$el.height()/2)+"px"})}})}),define("AbstractApp",["UIHeader","UILoadingLayer"],function(e,t){return _.inherit({propertys:function(){this.viewRootPath="views/",this.defaultView="index",this.request,this.viewId,this.mainframe,this.viewport,this.views={},this.viewMapping={},this.isCreate=!1,this.status="init",this.$wrapper=$("body"),this.$mainframe=$("#root"),this.interface=["forward","back","loadSubView"],this.appmode="mobile",this.loading=new t({content:"加载中...",closeBtn:!1})},initialize:function(e){this.propertys(),this.setOption(e),this.createViewPort(),this.loadViewByUrl(),this.buildEvent()},setOption:function(e){_.extend(this,e)},createViewPort:function(){if(this.isCreate)return;var t="",n='<div class="header-wrapper"></div>',r='<div class="viewport-wrapper"></div>';this.$mainframe[0]||(t=['<div class="main">',"</div>"].join(""),this.$mainframe=$(t),this.$wrapper.append(this.$mainframe)),this.$mainframe.html(n+r),this.$header=this.$mainframe.find(".header-wrapper"),this.$viewport=this.$mainframe.find(".viewport-wrapper"),this.header=new e({wrapper:this.$header}),this.isCreate=!0},buildEvent:function(){this.hasPushState?$(window).bind("popstate",_.bind(this.loadViewByUrl,this)):$(window).bind("hashchange",_.bind(this.loadViewByUrl,this))},loadViewByUrl:function(e){this.parseUrl(),this.switchView(this.viewId)},parseUrl:function(){var e=decodeURIComponent(location.href).toLowerCase(),t=this.getViewIdRule(e);t=t||this.defaultView,this.viewId=t,this.viewPrevUrlPath=e,this.request={viewId:t,path:e}},switchView:function(e){var t=e,n=this.views[t],r=this.curView;r&&r!=n&&(this.lastView=r);if(n){if(n==this.curView){n.hashChangeParamsRefresh&&n._urlHash!==window.location.hash&&(n.trigger("onShow"),n._urlHash=window.location.hash);return}this.curView=n,this.curView.show(),this.lastView&&this.lastView.hide()}else this.loading.show(),this.loadView(e,function(e){if($('[page-url="'+t+'"]').length>0)return;this.curView=new e({APP:this,wrapper:this.$viewport}),this.curView._urlHash=window.location.hash,this.curView.$root.attr("page-url",t).addClass("page-view-"+t),this.views[t]=this.curView;var n=typeof r!="undefined"?r.viewname:null;this.curView.show(),this.lastView&&this.lastView.hide(),this.loading.hide()})},loadView:function(e,t){var n=this;requirejs([this.buildUrl(e)],function(e){t&&t.call(n,e)})},buildUrl:function(e){this.appmode=="ipad"&&(e+=".ipad");var t=this.viewMapping[e];return t?t:this.viewRootPath+e},getViewIdRule:function(e){var t="",n="",r,i;return this.hasPushState?t=_.getUrlParam(e,"viewid"):(t=e.replace(/^[^#]+(#(.+))?/g,"$2").toLowerCase().replace(/^#+/i,""),r=/^([^?&|]*)(.*)?$/i.exec(t),i=r[1]?r[1].split("!"):[],t=(i.shift()||"").replace(/(^\/+|\/+$)/i,"")),t},setUrlRule:function(e,t,n){if(this.hasPushState){var r,i=window.location.href,s="",o="";if(n)for(r in n)s+="&"+r+"="+n[r];o=i.indexOf("?")?i.substr(0,i.indexOf("?"))+"?viewid="+e:i+"?viewid="+e,t?history.replaceState("",{},o+s):history.pushState("",{},o+s)}else t?window.location.replace(("#"+e).replace(/^#+/,"#")):window.location.href=("#"+e).replace(/^#+/,"#")},forward:function(e,t){if(!e)return;t=t||{};var n=t.replace,r=t.isNotAnimat;param=t.param,e=e.toLowerCase(),r&&(this.isAnimat=!1),this.animatName=t.animatName||this.animForwardName,this.setUrlRule(e,n,param),this.hasPushState&&this.loadViewByUrl()},back:function(e,t){t=t||{};var n=t.isNotAnimat;n&&(this.isAnimat=!1),this.animatName=this.animBackwardName,e?(t.animatName=this.animBackwardName,this.forward(e,t)):window.history.length==1?this.forward(this.defaultView,t):history.back()}})}),define("AbstractModel",["cAjax"],function(e){var t=_.inherit({propertys:function(){this.url=null,this.param=null,this.dataformat=null,this.validates=[],this.protocol=window.location.protocol.indexOf("https")>-1?"https":"http",this.contentType="json",this.method="POST",this.timeout=3e4,this.isAbort=!1,this.baseurl={domain:"",path:""}},setOption:function(e){for(var t in e)this[t]=e[t]},assert:function(){if(this.url===null)throw"not override url property";if(this.param===null)throw"not override param property"},initialize:function(e){this.propertys(),this.setOption(e),this.assert()},setAttr:function(e,t){this[e]=t},pushValidates:function(e){typeof e=="function"&&this.validates.push($.proxy(e,this))},setParam:function(e,t){typeof e=="object"&&!t?this.param=e:this.param[e]=t},getParam:function(){return this.param},buildurl:function(){throw"[ERROR]abstract method:buildurl, must be override"},execute:function(t,n,r,i,s){var o=this.buildurl(),u=this,a=$.proxy(function(e){for(var i=0,s=this.validates.length;i<s;i++)if(!this.validates[i](e))return typeof n=="function"?n.call(r||this,e):!1;var o=typeof this.dataformat=="function"?this.dataformat(e):e;typeof t=="function"&&t.call(r||this,o,e)},this),f=$.proxy(function(e){typeof n=="function"&&n.call(r||this,e)},this),s=s||_.clone(this.getParam()||{});s.contentType=this.contentType,this.contentType==="json"?e.cros(o,this.method,s,a,f):this.contentType==="jsonp"?e.jsonp(o,s,a,f):e.post(o,s,a,f)}});return t.getInstance=function(){return this.instance instanceof this?this.instance:this.instance=new this},t}),define("text!../blade/ui/core.header.html",[],function(){return"\n<div class=\"cm-header\">\n<%\n\nvar i = 0, len = 0, j = 0, jj = 0;\nvar left = left;\nvar center = center;\nvar right =  right.reverse();\nvar item = null;\nvar outhtml = ''\nvar dir;\nvar btnObj = null;\n\n%>\n\n<%for(jj=0; jj < 2; jj++) { %>\n  <%\n    if(jj == 0) { dir = 'fl'; btnObj = left; } else { dir = 'fr'; btnObj = right; }\n  %>\n  <% for(i = 0, len = btnObj.length; i < len; i++) { %>\n    <% item = btnObj[i]; %>\n    <%if(typeof item.itemFn == 'function') { %>\n      <%=item.itemFn() %>\n    <%} else { %>\n      <span class=\" cm-header-<%=(item.value ? 'btn' : 'icon') %> <%=dir %>  js_<%=item.tagname %>\" >\n        <% if(item.value) { %>\n          <%=item.value %>\n        <% } else { %>\n          <i class=\"icon icon-<%=item.tagname %>\"></i>\n        <% } %>\n      </span>\n    <%} %>\n  <%} %>\n<%} %>\n\n<% item = center; %>\n<%if(typeof item.itemFn == 'function') { %>\n  <%=item.itemFn() %>\n<%} else if(item.tagname=='title' ||  item.tagname=='subtitle') { %>\n  <div class=\"cm-page-title js_<%=item.tagname %>\" >\n    <%if(_.isArray(item.value) && item.value.length == 2) { %>\n      <span class=\"cm-title-l\"><%=item.value[0]%></span>\n      <span class=\"cm-title-s\"><%=item.value[1]%></span>\n    <%} else { %>\n      <%=item.value || item.value[0]%>\n    <%} %>\n  </div>\n<%} else if(item.tagname=='select'){ %>\n  <div class=\"cm-page-select-title js_<%=item.tagname %>\" >\n    <%=item.value %>\n  </div>\n<%} else if(item.tagname=='tabs') { %>\n  <div class=\"cm-page-tabs-title js_<%=item.tagname %>\" >\n    <%for(j = 0; j < item.data.items.length; j ++) { %>\n      <span data-key=\"<%=item.data.items[j].id %>\" data-index=\"<%=j %>\" class=\"<%if(item.data.index==j){ %>active<%} %>\" ><%=item.data.items[j].name %></span>\n    <% } %>\n  </div>\n<% } else{ %>\n\n<%} %>\n\n</div>\n"}),function(e){e.fn.scrollLoading=function(t){var n={attr:"data-src",container:e(window),callback:e.noop},r=e.extend({},n,t||{});r.cache=[],e(this).each(function(){var t=this.nodeName.toLowerCase(),n=e(this).attr(r.attr),i={obj:e(this),tag:t,url:n};r.cache.push(i)});var i=function(t){e.isFunction(r.callback)&&r.callback.call(t.get(0))},s=function(){var t=r.container.height();e(window).get(0)===window?contop=e(window).scrollTop():contop=r.container.offset().top,e.each(r.cache,function(e,n){var r=n.obj,s=n.tag,o=n.url,u,a;if(r){u=r.offset().top-contop,a=u+r.height();if(u>=0&&u<t||a>0&&a<=t)o?s==="img"?i(r.attr("src",o)):r.load(o,{},function(){i(r)}):i(r),n.obj=null}})};s(),r.container.bind("scroll",s)}}(Zepto),define("LazyLoad",function(){}),+function(e){"use strict";var t=function(n,r){function f(){return a.params.direction==="horizontal"}function l(){a.autoplayTimeoutId=setTimeout(function(){a.params.loop?(a.fixLoop(),a._slideNext()):a.isEnd?r.autoplayStopOnLast?a.stopAutoplay():a._slideTo(0):a._slideNext()},a.params.autoplay)}function h(t,n){var r=e(t.target);if(!r.is(n))if(typeof n=="string")r=r.parents(n);else if(n.nodeType){var i;return r.parents().each(function(e,t){t===n&&(i=n)}),i?n:undefined}return r.length===0?undefined:r[0]}function k(e,t){t=t||{};var n=window.MutationObserver||window.WebkitMutationObserver,r=new n(function(e){e.forEach(function(e){a.onResize(),a.emit("onObserverUpdate",a,e)})});r.observe(e,{attributes:typeof t.attributes=="undefined"?!0:t.attributes,childList:typeof t.childList=="undefined"?!0:t.childList,characterData:typeof t.characterData=="undefined"?!0:t.characterData}),a.observers.push(r)}function L(t,n){t=e(t);var r,i,s;r=t.attr("data-swiper-parallax")||"0",i=t.attr("data-swiper-parallax-x"),s=t.attr("data-swiper-parallax-y"),i||s?(i=i||"0",s=s||"0"):f()?(i=r,s="0"):(s=r,i="0"),i.indexOf("%")>=0?i=parseInt(i,10)*n+"%":i=i*n+"px",s.indexOf("%")>=0?s=parseInt(s,10)*n+"%":s=s*n+"px",t.transform("translate3d("+i+", "+s+",0px)")}function M(e){return e.indexOf("on")!==0&&(e[0]!==e[0].toUpperCase()?e="on"+e[0].toUpperCase()+e.substring(1):e="on"+e),e}var i=this.defaults,s=r&&r.virtualTranslate;r=r||{};for(var o in i)if(typeof r[o]=="undefined")r[o]=i[o];else if(typeof r[o]=="object")for(var u in i[o])typeof r[o][u]=="undefined"&&(r[o][u]=i[o][u]);var a=this;a.params=r,a.classNames=[],a.$=e,a.container=e(n);if(a.container.length===0)return;if(a.container.length>1){a.container.each(function(){new e.Swiper(this,r)});return}a.container[0].swiper=a,a.container.data("swiper",a),a.classNames.push("swiper-container-"+a.params.direction),a.params.freeMode&&a.classNames.push("swiper-container-free-mode"),a.support.flexbox||(a.classNames.push("swiper-container-no-flexbox"),a.params.slidesPerColumn=1);if(a.params.parallax||a.params.watchSlidesVisibility)a.params.watchSlidesProgress=!0;["cube","coverflow"].indexOf(a.params.effect)>=0&&(a.support.transforms3d?(a.params.watchSlidesProgress=!0,a.classNames.push("swiper-container-3d")):a.params.effect="slide"),a.params.effect!=="slide"&&a.classNames.push("swiper-container-"+a.params.effect),a.params.effect==="cube"&&(a.params.resistanceRatio=0,a.params.slidesPerView=1,a.params.slidesPerColumn=1,a.params.slidesPerGroup=1,a.params.centeredSlides=!1,a.params.spaceBetween=0,a.params.virtualTranslate=!0,a.params.setWrapperSize=!1),a.params.effect==="fade"&&(a.params.slidesPerView=1,a.params.slidesPerColumn=1,a.params.slidesPerGroup=1,a.params.watchSlidesProgress=!0,a.params.spaceBetween=0,typeof s=="undefined"&&(a.params.virtualTranslate=!0)),a.params.grabCursor&&a.support.touch&&(a.params.grabCursor=!1),a.wrapper=a.container.children("."+a.params.wrapperClass),a.params.pagination&&(a.paginationContainer=e(a.params.pagination),a.params.paginationClickable&&a.paginationContainer.addClass("swiper-pagination-clickable")),a.rtl=f()&&(a.container[0].dir.toLowerCase()==="rtl"||a.container.css("direction")==="rtl"),a.rtl&&a.classNames.push("swiper-container-rtl"),a.rtl&&(a.wrongRTL=a.wrapper.css("display")==="-webkit-box"),a.params.slidesPerColumn>1&&a.classNames.push("swiper-container-multirow"),a.device.android&&a.classNames.push("swiper-container-android"),a.container.addClass(a.classNames.join(" ")),a.translate=0,a.progress=0,a.velocity=0,a.lockSwipeToNext=function(){a.params.allowSwipeToNext=!1},a.lockSwipeToPrev=function(){a.params.allowSwipeToPrev=!1},a.lockSwipes=function(){a.params.allowSwipeToNext=a.params.allowSwipeToPrev=!1},a.unlockSwipeToNext=function(){a.params.allowSwipeToNext=!0},a.unlockSwipeToPrev=function(){a.params.allowSwipeToPrev=!0},a.unlockSwipes=function(){a.params.allowSwipeToNext=a.params.allowSwipeToPrev=!0},a.params.grabCursor&&(a.container[0].style.cursor="move",a.container[0].style.cursor="-webkit-grab",a.container[0].style.cursor="-moz-grab",a.container[0].style.cursor="grab"),a.imagesToLoad=[],a.imagesLoaded=0,a.loadImage=function(e,t,n,r){function s(){r&&r()}var i;!e.complete||!n?t?(i=new Image,i.onload=s,i.onerror=s,i.src=t):s():s()},a.preloadImages=function(){function e(){if(typeof a=="undefined"||a===null)return;a.imagesLoaded!==undefined&&a.imagesLoaded++,a.imagesLoaded===a.imagesToLoad.length&&(a.params.updateOnImagesReady&&a.update(),a.emit("onImagesReady",a))}a.imagesToLoad=a.container.find("img");for(var t=0;t<a.imagesToLoad.length;t++)a.loadImage(a.imagesToLoad[t],a.imagesToLoad[t].currentSrc||a.imagesToLoad[t].getAttribute("src"),!0,e)},a.autoplayTimeoutId=undefined,a.autoplaying=!1,a.autoplayPaused=!1,a.startAutoplay=function(){if(typeof a.autoplayTimeoutId!="undefined")return!1;if(!a.params.autoplay)return!1;if(a.autoplaying)return!1;a.autoplaying=!0,a.emit("onAutoplayStart",a),l()},a.stopAutoplay=function(){if(!a.autoplayTimeoutId)return;a.autoplayTimeoutId&&clearTimeout(a.autoplayTimeoutId),a.autoplaying=!1,a.autoplayTimeoutId=undefined,a.emit("onAutoplayStop",a)},a.pauseAutoplay=function(e){if(a.autoplayPaused)return;a.autoplayTimeoutId&&clearTimeout(a.autoplayTimeoutId),a.autoplayPaused=!0,e===0?(a.autoplayPaused=!1,l()):a.wrapper.transitionEnd(function(){a.autoplayPaused=!1,a.autoplaying?l():a.stopAutoplay()})},a.minTranslate=function(){return-a.snapGrid[0]},a.maxTranslate=function(){return-a.snapGrid[a.snapGrid.length-1]},a.updateContainerSize=function(){a.width=a.container[0].clientWidth,a.height=a.container[0].clientHeight,a.size=f()?a.width:a.height},a.updateSlidesSize=function(){a.slides=a.wrapper.children("."+a.params.slideClass),a.snapGrid=[],a.slidesGrid=[],a.slidesSizesGrid=[];var e=a.params.spaceBetween,t=0,n,r=0,i=0;typeof e=="string"&&e.indexOf("%")>=0&&(e=parseFloat(e.replace("%",""))/100*a.size),a.virtualSize=-e,a.rtl?a.slides.css({marginLeft:"",marginTop:""}):a.slides.css({marginRight:"",marginBottom:""});var s;a.params.slidesPerColumn>1&&(Math.floor(a.slides.length/a.params.slidesPerColumn)===a.slides.length/a.params.slidesPerColumn?s=a.slides.length:s=Math.ceil(a.slides.length/a.params.slidesPerColumn)*a.params.slidesPerColumn);var o;for(n=0;n<a.slides.length;n++){o=0;var u=a.slides.eq(n);if(a.params.slidesPerColumn>1){var l,c,h,p=a.params.slidesPerColumn,d;a.params.slidesPerColumnFill==="column"?(c=Math.floor(n/p),h=n-c*p,l=c+h*s/p,u.css({"-webkit-box-ordinal-group":l,"-moz-box-ordinal-group":l,"-ms-flex-order":l,"-webkit-order":l,order:l})):(d=s/p,h=Math.floor(n/d),c=n-h*d),u.css({"margin-top":h!==0&&a.params.spaceBetween&&a.params.spaceBetween+"px"}).attr("data-swiper-column",c).attr("data-swiper-row",h)}if(u.css("display")==="none")continue;a.params.slidesPerView==="auto"?o=f()?u.outerWidth(!0):u.outerHeight(!0):(o=(a.size-(a.params.slidesPerView-1)*e)/a.params.slidesPerView,f()?a.slides[n].style.width=o+"px":a.slides[n].style.height=o+"px"),a.slides[n].swiperSlideSize=o,a.slidesSizesGrid.push(o),a.params.centeredSlides?(t=t+o/2+r/2+e,n===0&&(t=t-a.size/2-e),Math.abs(t)<.001&&(t=0),i%a.params.slidesPerGroup===0&&a.snapGrid.push(t),a.slidesGrid.push(t)):(i%a.params.slidesPerGroup===0&&a.snapGrid.push(t),a.slidesGrid.push(t),t=t+o+e),a.virtualSize+=o+e,r=o,i++}a.virtualSize=Math.max(a.virtualSize,a.size);var v;a.rtl&&a.wrongRTL&&(a.params.effect==="slide"||a.params.effect==="coverflow")&&a.wrapper.css({width:a.virtualSize+a.params.spaceBetween+"px"});if(!a.support.flexbox||a.params.setWrapperSize)f()?a.wrapper.css({width:a.virtualSize+a.params.spaceBetween+"px"}):a.wrapper.css({height:a.virtualSize+a.params.spaceBetween+"px"});if(a.params.slidesPerColumn>1){a.virtualSize=(o+a.params.spaceBetween)*s,a.virtualSize=Math.ceil(a.virtualSize/a.params.slidesPerColumn)-a.params.spaceBetween,a.wrapper.css({width:a.virtualSize+a.params.spaceBetween+"px"});if(a.params.centeredSlides){v=[];for(n=0;n<a.snapGrid.length;n++)a.snapGrid[n]<a.virtualSize+a.snapGrid[0]&&v.push(a.snapGrid[n]);a.snapGrid=v}}if(!a.params.centeredSlides){v=[];for(n=0;n<a.snapGrid.length;n++)a.snapGrid[n]<=a.virtualSize-a.size&&v.push(a.snapGrid[n]);a.snapGrid=v,Math.floor(a.virtualSize-a.size)>Math.floor(a.snapGrid[a.snapGrid.length-1])&&a.snapGrid.push(a.virtualSize-a.size)}a.snapGrid.length===0&&(a.snapGrid=[0]),a.params.spaceBetween!==0&&(f()?a.rtl?a.slides.css({marginLeft:e+"px"}):a.slides.css({marginRight:e+"px"}):a.slides.css({marginBottom:e+"px"})),a.params.watchSlidesProgress&&a.updateSlidesOffset()},a.updateSlidesOffset=function(){for(var e=0;e<a.slides.length;e++)a.slides[e].swiperSlideOffset=f()?a.slides[e].offsetLeft:a.slides[e].offsetTop},a.updateSlidesProgress=function(e){typeof e=="undefined"&&(e=a.translate||0);if(a.slides.length===0)return;typeof a.slides[0].swiperSlideOffset=="undefined"&&a.updateSlidesOffset();var t=a.params.centeredSlides?-e+a.size/2:-e;a.rtl&&(t=a.params.centeredSlides?e-a.size/2:e),a.slides.removeClass(a.params.slideVisibleClass);for(var n=0;n<a.slides.length;n++){var r=a.slides[n],i=a.params.centeredSlides===!0?r.swiperSlideSize/2:0,s=(t-r.swiperSlideOffset-i)/(r.swiperSlideSize+a.params.spaceBetween);if(a.params.watchSlidesVisibility){var o=-(t-r.swiperSlideOffset-i),u=o+a.slidesSizesGrid[n],f=o>=0&&o<a.size||u>0&&u<=a.size||o<=0&&u>=a.size;f&&a.slides.eq(n).addClass(a.params.slideVisibleClass)}r.progress=a.rtl?-s:s}},a.updateProgress=function(e){typeof e=="undefined"&&(e=a.translate||0);var t=a.maxTranslate()-a.minTranslate();t===0?(a.progress=0,a.isBeginning=a.isEnd=!0):(a.progress=(e-a.minTranslate())/t,a.isBeginning=a.progress<=0,a.isEnd=a.progress>=1),a.isBeginning&&a.emit("onReachBeginning",a),a.isEnd&&a.emit("onReachEnd",a),a.params.watchSlidesProgress&&a.updateSlidesProgress(e),a.emit("onProgress",a,a.progress)},a.updateActiveIndex=function(){var e=a.rtl?a.translate:-a.translate,t,n,r;for(n=0;n<a.slidesGrid.length;n++)typeof a.slidesGrid[n+1]!="undefined"?e>=a.slidesGrid[n]&&e<a.slidesGrid[n+1]-(a.slidesGrid[n+1]-a.slidesGrid[n])/2?t=n:e>=a.slidesGrid[n]&&e<a.slidesGrid[n+1]&&(t=n+1):e>=a.slidesGrid[n]&&(t=n);if(t<0||typeof t=="undefined")t=0;r=Math.floor(t/a.params.slidesPerGroup),r>=a.snapGrid.length&&(r=a.snapGrid.length-1);if(t===a.activeIndex)return;a.snapIndex=r,a.previousIndex=a.activeIndex,a.activeIndex=t,a.updateClasses()},a.updateClasses=function(){a.slides.removeClass(a.params.slideActiveClass+" "+a.params.slideNextClass+" "+a.params.slidePrevClass);var t=a.slides.eq(a.activeIndex);t.addClass(a.params.slideActiveClass),t.next("."+a.params.slideClass).addClass(a.params.slideNextClass),t.prev("."+a.params.slideClass).addClass(a.params.slidePrevClass);if(a.bullets&&a.bullets.length>0){a.bullets.removeClass(a.params.bulletActiveClass);var n;a.params.loop?(n=Math.ceil(a.activeIndex-a.loopedSlides)/a.params.slidesPerGroup,n>a.slides.length-1-a.loopedSlides*2&&(n-=a.slides.length-a.loopedSlides*2),n>a.bullets.length-1&&(n-=a.bullets.length)):typeof a.snapIndex!="undefined"?n=a.snapIndex:n=a.activeIndex||0,a.paginationContainer.length>1?a.bullets.each(function(){e(this).index()===n&&e(this).addClass(a.params.bulletActiveClass)}):a.bullets.eq(n).addClass(a.params.bulletActiveClass)}a.params.loop||(a.params.prevButton&&(a.isBeginning?(e(a.params.prevButton).addClass(a.params.buttonDisabledClass),a.params.a11y&&a.a11y&&a.a11y.disable(e(a.params.prevButton))):(e(a.params.prevButton).removeClass(a.params.buttonDisabledClass),a.params.a11y&&a.a11y&&a.a11y.enable(e(a.params.prevButton)))),a.params.nextButton&&(a.isEnd?(e(a.params.nextButton).addClass(a.params.buttonDisabledClass),a.params.a11y&&a.a11y&&a.a11y.disable(e(a.params.nextButton))):(e(a.params.nextButton).removeClass(a.params.buttonDisabledClass),a.params.a11y&&a.a11y&&a.a11y.enable(e(a.params.nextButton)))))},a.updatePagination=function(){if(!a.params.pagination)return;if(a.paginationContainer&&a.paginationContainer.length>0){var e="",t=a.params.loop?Math.ceil((a.slides.length-a.loopedSlides*2)/a.params.slidesPerGroup):a.snapGrid.length;for(var n=0;n<t;n++)a.params.paginationBulletRender?e+=a.params.paginationBulletRender(n,a.params.bulletClass):e+='<span class="'+a.params.bulletClass+'"></span>';a.paginationContainer.html(e),a.bullets=a.paginationContainer.find("."+a.params.bulletClass)}},a.update=function(e){function t(){r=Math.min(Math.max(a.translate,a.maxTranslate()),a.minTranslate()),a.setWrapperTranslate(r),a.updateActiveIndex(),a.updateClasses()}a.updateContainerSize(),a.updateSlidesSize(),a.updateProgress(),a.updatePagination(),a.updateClasses(),a.params.scrollbar&&a.scrollbar&&a.scrollbar.set();if(e){var n,r;a.params.freeMode?t():(a.params.slidesPerView==="auto"&&a.isEnd&&!a.params.centeredSlides?n=a.slideTo(a.slides.length-1,0,!1,!0):n=a.slideTo(a.activeIndex,0,!1,!0),n||t())}},a.onResize=function(){a.updateContainerSize(),a.updateSlidesSize(),a.updateProgress(),(a.params.slidesPerView==="auto"||a.params.freeMode)&&a.updatePagination(),a.params.scrollbar&&a.scrollbar&&a.scrollbar.set();if(a.params.freeMode){var e=Math.min(Math.max(a.translate,a.maxTranslate()),a.minTranslate());a.setWrapperTranslate(e),a.updateActiveIndex(),a.updateClasses()}else a.updateClasses(),a.params.slidesPerView==="auto"&&a.isEnd&&!a.params.centeredSlides?a.slideTo(a.slides.length-1,0,!1,!0):a.slideTo(a.activeIndex,0,!1,!0)};var c=["mousedown","mousemove","mouseup"];window.navigator.pointerEnabled?c=["pointerdown","pointermove","pointerup"]:window.navigator.msPointerEnabled&&(c=["MSPointerDown","MSPointerMove","MSPointerUp"]),a.touchEvents={start:a.support.touch||!a.params.simulateTouch?"touchstart":c[0],move:a.support.touch||!a.params.simulateTouch?"touchmove":c[1],end:a.support.touch||!a.params.simulateTouch?"touchend":c[2]},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&(a.params.touchEventsTarget==="container"?a.container:a.wrapper).addClass("swiper-wp8-"+a.params.direction),a.initEvents=function(t){var n=t?"off":"on",i=t?"removeEventListener":"addEventListener",s=a.params.touchEventsTarget==="container"?a.container[0]:a.wrapper[0],o=a.support.touch?s:document,u=a.params.nested?!0:!1;a.browser.ie?(s[i](a.touchEvents.start,a.onTouchStart,!1),o[i](a.touchEvents.move,a.onTouchMove,u),o[i](a.touchEvents.end,a.onTouchEnd,!1)):(a.support.touch&&(s[i](a.touchEvents.start,a.onTouchStart,!1),s[i](a.touchEvents.move,a.onTouchMove,u),s[i](a.touchEvents.end,a.onTouchEnd,!1)),r.simulateTouch&&!a.device.ios&&!a.device.android&&(s[i]("mousedown",a.onTouchStart,!1),o[i]("mousemove",a.onTouchMove,u),o[i]("mouseup",a.onTouchEnd,!1))),window[i]("resize",a.onResize),a.params.nextButton&&(e(a.params.nextButton)[n]("click",a.onClickNext),a.params.a11y&&a.a11y&&e(a.params.nextButton)[n]("keydown",a.a11y.onEnterKey)),a.params.prevButton&&(e(a.params.prevButton)[n]("click",a.onClickPrev),a.params.a11y&&a.a11y&&e(a.params.prevButton)[n]("keydown",a.a11y.onEnterKey)),a.params.pagination&&a.params.paginationClickable&&e(a.paginationContainer)[n]("click","."+a.params.bulletClass,a.onClickIndex),(a.params.preventClicks||a.params.preventClicksPropagation)&&s[i]("click",a.preventClicks,!0)},a.attachEvents=function(){a.initEvents()},a.detachEvents=function(){a.initEvents(!0)},a.allowClick=!0,a.preventClicks=function(e){a.allowClick||(a.params.preventClicks&&e.preventDefault(),a.params.preventClicksPropagation&&(e.stopPropagation(),e.stopImmediatePropagation()))},a.onClickNext=function(e){e.preventDefault(),a.slideNext()},a.onClickPrev=function(e){e.preventDefault(),a.slidePrev()},a.onClickIndex=function(t){t.preventDefault();var n=e(this).index()*a.params.slidesPerGroup;a.params.loop&&(n+=a.loopedSlides),a.slideTo(n)},a.updateClickedSlide=function(t){var n=h(t,"."+a.params.slideClass);if(!n){a.clickedSlide=undefined,a.clickedIndex=undefined;return}a.clickedSlide=n,a.clickedIndex=e(n).index();if(a.params.slideToClickedSlide&&a.clickedIndex!==undefined&&a.clickedIndex!==a.activeIndex){var r=a.clickedIndex,i;if(a.params.loop){i=e(a.clickedSlide).attr("data-swiper-slide-index");if(r>a.slides.length-a.params.slidesPerView)a.fixLoop(),r=a.wrapper.children("."+a.params.slideClass+'[data-swiper-slide-index="'+i+'"]').eq(0).index(),setTimeout(function(){a.slideTo(r)},0);else if(r<a.params.slidesPerView-1){a.fixLoop();var s=a.wrapper.children("."+a.params.slideClass+'[data-swiper-slide-index="'+i+'"]');r=s.eq(s.length-1).index(),setTimeout(function(){a.slideTo(r)},0)}else a.slideTo(r)}else a.slideTo(r)}};var p,d,v,m,g,y,b,w="input, select, textarea, button",E=Date.now(),S,x=[],T;a.animating=!1,a.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var N,C;a.onTouchStart=function(t){t.originalEvent&&(t=t.originalEvent),N=t.type==="touchstart";if(!N&&"which"in t&&t.which===3)return;if(a.params.noSwiping&&h(t,"."+a.params.noSwipingClass)){a.allowClick=!0;return}if(a.params.swipeHandler&&!h(t,a.params.swipeHandler))return;p=!0,d=!1,m=undefined,C=undefined,a.touches.startX=a.touches.currentX=t.type==="touchstart"?t.targetTouches[0].pageX:t.pageX,a.touches.startY=a.touches.currentY=t.type==="touchstart"?t.targetTouches[0].pageY:t.pageY,v=Date.now(),a.allowClick=!0,a.updateContainerSize(),a.swipeDirection=undefined,a.params.threshold>0&&(b=!1);if(t.type!=="touchstart"){var n=!0;e(t.target).is(w)&&(n=!1),document.activeElement&&e(document.activeElement).is(w)&&document.activeElement.blur(),n&&t.preventDefault()}a.emit("onTouchStart",a,t)},a.onTouchMove=function(t){t.originalEvent&&(t=t.originalEvent);if(N&&t.type==="mousemove")return;if(t.preventedByNestedSwiper)return;if(a.params.onlyExternal){d=!0,a.allowClick=!1;return}if(N&&document.activeElement&&t.target===document.activeElement&&e(t.target).is(w)){d=!0,a.allowClick=!1;return}a.emit("onTouchMove",a,t);if(t.targetTouches&&t.targetTouches.length>1)return;a.touches.currentX=t.type==="touchmove"?t.targetTouches[0].pageX:t.pageX,a.touches.currentY=t.type==="touchmove"?t.targetTouches[0].pageY:t.pageY;if(typeof m=="undefined"){var n=Math.atan2(Math.abs(a.touches.currentY-a.touches.startY),Math.abs(a.touches.currentX-a.touches.startX))*180/Math.PI;m=f()?n>a.params.touchAngle:90-n>a.params.touchAngle}m&&a.emit("onTouchMoveOpposite",a,t),typeof C=="undefined"&&a.browser.ieTouch&&(a.touches.currentX!==a.touches.startX||a.touches.currentY!==a.touches.startY)&&(C=!0);if(!p)return;if(m){p=!1;return}if(!C&&a.browser.ieTouch)return;a.allowClick=!1,a.emit("onSliderMove",a,t),t.preventDefault(),a.params.touchMoveStopPropagation&&!a.params.nested&&t.stopPropagation(),d||(r.loop&&a.fixLoop(),y=a.getWrapperTranslate(),a.setWrapperTransition(0),a.animating&&a.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),a.params.autoplay&&a.autoplaying&&(a.params.autoplayDisableOnInteraction?a.stopAutoplay():a.pauseAutoplay()),T=!1,a.params.grabCursor&&(a.container[0].style.cursor="move",a.container[0].style.cursor="-webkit-grabbing",a.container[0].style.cursor="-moz-grabbin",a.container[0].style.cursor="grabbing")),d=!0;var i=a.touches.diff=f()?a.touches.currentX-a.touches.startX:a.touches.currentY-a.touches.startY;i*=a.params.touchRatio,a.rtl&&(i=-i),a.swipeDirection=i>0?"prev":"next",g=i+y;var s=!0;i>0&&g>a.minTranslate()?(s=!1,a.params.resistance&&(g=a.minTranslate()-1+Math.pow(-a.minTranslate()+y+i,a.params.resistanceRatio))):i<0&&g<a.maxTranslate()&&(s=!1,a.params.resistance&&(g=a.maxTranslate()+1-Math.pow(a.maxTranslate()-y-i,a.params.resistanceRatio))),s&&(t.preventedByNestedSwiper=!0),!a.params.allowSwipeToNext&&a.swipeDirection==="next"&&g<y&&(g=y),!a.params.allowSwipeToPrev&&a.swipeDirection==="prev"&&g>y&&(g=y);if(!a.params.followFinger)return;if(a.params.threshold>0){if(!(Math.abs(i)>a.params.threshold||b)){g=y;return}if(!b){b=!0,a.touches.startX=a.touches.currentX,a.touches.startY=a.touches.currentY,g=y,a.touches.diff=f()?a.touches.currentX-a.touches.startX:a.touches.currentY-a.touches.startY;return}}(a.params.freeMode||a.params.watchSlidesProgress)&&a.updateActiveIndex(),a.params.freeMode&&(x.length===0&&x.push({position:a.touches[f()?"startX":"startY"],time:v}),x.push({position:a.touches[f()?"currentX":"currentY"],time:(new Date).getTime()})),a.updateProgress(g),a.setWrapperTranslate(g)},a.onTouchEnd=function(t){t.originalEvent&&(t=t.originalEvent),a.emit("onTouchEnd",a,t);if(!p)return;a.params.grabCursor&&d&&p&&(a.container[0].style.cursor="move",a.container[0].style.cursor="-webkit-grab",a.container[0].style.cursor="-moz-grab",a.container[0].style.cursor="grab");var n=Date.now(),r=n-v;a.allowClick&&(a.updateClickedSlide(t),a.emit("onTap",a,t),r<300&&n-E>300&&(S&&clearTimeout(S),S=setTimeout(function(){if(!a)return;a.params.paginationHide&&a.paginationContainer.length>0&&!e(t.target).hasClass(a.params.bulletClass)&&a.paginationContainer.toggleClass(a.params.paginationHiddenClass),a.emit("onClick",a,t)},300)),r<300&&n-E<300&&(S&&clearTimeout(S),a.emit("onDoubleTap",a,t))),E=Date.now(),setTimeout(function(){a&&a.allowClick&&(a.allowClick=!0)},0);if(!p||!d||!a.swipeDirection||a.touches.diff===0||g===y){p=d=!1;return}p=d=!1;var i;a.params.followFinger?i=a.rtl?a.translate:-a.translate:i=-g;if(a.params.freeMode){if(i<-a.minTranslate()){a.slideTo(a.activeIndex);return}if(i>-a.maxTranslate()){a.slideTo(a.slides.length-1);return}if(a.params.freeModeMomentum){if(x.length>1){var s=x.pop(),o=x.pop(),u=s.position-o.position,f=s.time-o.time;a.velocity=u/f,a.velocity=a.velocity/2,Math.abs(a.velocity)<.02&&(a.velocity=0);if(f>150||(new Date).getTime()-s.time>300)a.velocity=0}else a.velocity=0;x.length=0;var l=1e3*a.params.freeModeMomentumRatio,c=a.velocity*l,h=a.translate+c;a.rtl&&(h=-h);var m=!1,b,w=Math.abs(a.velocity)*20*a.params.freeModeMomentumBounceRatio;h<a.maxTranslate()&&(a.params.freeModeMomentumBounce?(h+a.maxTranslate()<-w&&(h=a.maxTranslate()-w),b=a.maxTranslate(),m=!0,T=!0):h=a.maxTranslate()),h>a.minTranslate()&&(a.params.freeModeMomentumBounce?(h-a.minTranslate()>w&&(h=a.minTranslate()+w),b=a.minTranslate(),m=!0,T=!0):h=a.minTranslate()),a.velocity!==0&&(a.rtl?l=Math.abs((-h-a.translate)/a.velocity):l=Math.abs((h-a.translate)/a.velocity)),a.params.freeModeMomentumBounce&&m?(a.updateProgress(b),a.setWrapperTransition(l),a.setWrapperTranslate(h),a.onTransitionStart(),a.animating=!0,a.wrapper.transitionEnd(function(){if(!T)return;a.emit("onMomentumBounce",a),a.setWrapperTransition(a.params.speed),a.setWrapperTranslate(b),a.wrapper.transitionEnd(function(){a.onTransitionEnd()})})):a.velocity?(a.updateProgress(h),a.setWrapperTransition(l),a.setWrapperTranslate(h),a.onTransitionStart(),a.animating||(a.animating=!0,a.wrapper.transitionEnd(function(){a.onTransitionEnd()}))):a.updateProgress(h),a.updateActiveIndex()}if(!a.params.freeModeMomentum||r>=a.params.longSwipesMs)a.updateProgress(),a.updateActiveIndex();return}var N,C=0,k=a.slidesSizesGrid[0];for(N=0;N<a.slidesGrid.length;N+=a.params.slidesPerGroup)typeof a.slidesGrid[N+a.params.slidesPerGroup]!="undefined"?i>=a.slidesGrid[N]&&i<a.slidesGrid[N+a.params.slidesPerGroup]&&(C=N,k=a.slidesGrid[N+a.params.slidesPerGroup]-a.slidesGrid[N]):i>=a.slidesGrid[N]&&(C=N,k=a.slidesGrid[a.slidesGrid.length-1]-a.slidesGrid[a.slidesGrid.length-2]);var L=(i-a.slidesGrid[C])/k;if(r>a.params.longSwipesMs){if(!a.params.longSwipes){a.slideTo(a.activeIndex);return}a.swipeDirection==="next"&&(L>=a.params.longSwipesRatio?a.slideTo(C+a.params.slidesPerGroup):a.slideTo(C)),a.swipeDirection==="prev"&&(L>1-a.params.longSwipesRatio?a.slideTo(C+a.params.slidesPerGroup):a.slideTo(C))}else{if(!a.params.shortSwipes){a.slideTo(a.activeIndex);return}a.swipeDirection==="next"&&a.slideTo(C+a.params.slidesPerGroup),a.swipeDirection==="prev"&&a.slideTo(C)}},a._slideTo=function(e,t){return a.slideTo(e,t,!0,!0)},a.slideTo=function(e,t,n,r){typeof n=="undefined"&&(n=!0),typeof e=="undefined"&&(e=0),e<0&&(e=0),a.snapIndex=Math.floor(e/a.params.slidesPerGroup),a.snapIndex>=a.snapGrid.length&&(a.snapIndex=a.snapGrid.length-1);var i=-a.snapGrid[a.snapIndex];a.params.autoplay&&a.autoplaying&&(r||!a.params.autoplayDisableOnInteraction?a.pauseAutoplay(t):a.stopAutoplay()),a.updateProgress(i);for(var s=0;s<a.slidesGrid.length;s++)-i>=a.slidesGrid[s]&&(e=s);return typeof t=="undefined"&&(t=a.params.speed),a.previousIndex=a.activeIndex||0,a.activeIndex=e,i===a.translate?(a.updateClasses(),!1):(a.onTransitionStart(n),t===0?(a.setWrapperTransition(0),a.setWrapperTranslate(i),a.onTransitionEnd(n)):(a.setWrapperTransition(t),a.setWrapperTranslate(i),a.animating||(a.animating=!0,a.wrapper.transitionEnd(function(){a.onTransitionEnd(n)}))),a.updateClasses(),!0)},a.onTransitionStart=function(e){typeof e=="undefined"&&(e=!0),a.lazy&&a.lazy.onTransitionStart(),e&&(a.emit("onTransitionStart",a),a.activeIndex!==a.previousIndex&&a.emit("onSlideChangeStart",a))},a.onTransitionEnd=function(e){a.animating=!1,a.setWrapperTransition(0),typeof e=="undefined"&&(e=!0),a.lazy&&a.lazy.onTransitionEnd(),e&&(a.emit("onTransitionEnd",a),a.activeIndex!==a.previousIndex&&a.emit("onSlideChangeEnd",a)),a.params.hashnav&&a.hashnav&&a.hashnav.setHash()},a.slideNext=function(e,t,n){return a.params.loop?a.animating?!1:(a.fixLoop(),a.slideTo(a.activeIndex+a.params.slidesPerGroup,t,e,n)):a.slideTo(a.activeIndex+a.params.slidesPerGroup,t,e,n)},a._slideNext=function(e){return a.slideNext(!0,e,!0)},a.slidePrev=function(e,t,n){return a.params.loop?a.animating?!1:(a.fixLoop(),a.slideTo(a.activeIndex-1,t,e,n)):a.slideTo(a.activeIndex-1,t,e,n)},a._slidePrev=function(e){return a.slidePrev(!0,e,!0)},a.slideReset=function(e,t){return a.slideTo(a.activeIndex,t,e)},a.setWrapperTransition=function(e,t){a.wrapper.transition(e),a.params.effect!=="slide"&&a.effects[a.params.effect]&&a.effects[a.params.effect].setTransition(e),a.params.parallax&&a.parallax&&a.parallax.setTransition(e),a.params.scrollbar&&a.scrollbar&&a.scrollbar.setTransition(e),a.params.control&&a.controller&&a.controller.setTransition(e,t),a.emit("onSetTransition",a,e)},a.setWrapperTranslate=function(e,t,n){var r=0,i=0,s=0;f()?r=a.rtl?-e:e:i=e,a.params.virtualTranslate||(a.support.transforms3d?a.wrapper.transform("translate3d("+r+"px, "+i+"px, "+s+"px)"):a.wrapper.transform("translate("+r+"px, "+i+"px)")),a.translate=f()?r:i,t&&a.updateActiveIndex(),a.params.effect!=="slide"&&a.effects[a.params.effect]&&a.effects[a.params.effect].setTranslate(a.translate),a.params.parallax&&a.parallax&&a.parallax.setTranslate(a.translate),a.params.scrollbar&&a.scrollbar&&a.scrollbar.setTranslate(a.translate),a.params.control&&a.controller&&a.controller.setTranslate(a.translate,n),a.emit("onSetTranslate",a,a.translate)},a.getTranslate=function(e,t){var n,r,i,s;return typeof t=="undefined"&&(t="x"),a.params.virtualTranslate?a.rtl?-a.translate:a.translate:(i=window.getComputedStyle(e,null),window.WebKitCSSMatrix?s=new WebKitCSSMatrix(i.webkitTransform==="none"?"":i.webkitTransform):(s=i.MozTransform||i.OTransform||i.MsTransform||i.msTransform||i.transform||i.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=s.toString().split(",")),t==="x"&&(window.WebKitCSSMatrix?r=s.m41:n.length===16?r=parseFloat(n[12]):r=parseFloat(n[4])),t==="y"&&(window.WebKitCSSMatrix?r=s.m42:n.length===16?r=parseFloat(n[13]):r=parseFloat(n[5])),a.rtl&&r&&(r=-r),r||0)},a.getWrapperTranslate=function(e){return typeof e=="undefined"&&(e=f()?"x":"y"),a.getTranslate(a.wrapper[0],e)},a.observers=[],a.initObservers=function(){if(a.params.observeParents){var e=a.container.parents();for(var t=0;t<e.length;t++)k(e[t])}k(a.container[0],{childList:!1}),k(a.wrapper[0],{attributes:!1})},a.disconnectObservers=function(){for(var e=0;e<a.observers.length;e++)a.observers[e].disconnect();a.observers=[]},a.createLoop=function(){a.wrapper.children("."+a.params.slideClass+"."+a.params.slideDuplicateClass).remove();var t=a.wrapper.children("."+a.params.slideClass);a.loopedSlides=parseInt(a.params.loopedSlides||a.params.slidesPerView,10),a.loopedSlides=a.loopedSlides+a.params.loopAdditionalSlides,a.loopedSlides>t.length&&(a.loopedSlides=t.length);var n=[],r=[],i;t.each(function(i,s){var o=e(this);i<a.loopedSlides&&r.push(s),i<t.length&&i>=t.length-a.loopedSlides&&n.push(s),o.attr("data-swiper-slide-index",i)});for(i=0;i<r.length;i++)a.wrapper.append(e(r[i].cloneNode(!0)).addClass(a.params.slideDuplicateClass));for(i=n.length-1;i>=0;i--)a.wrapper.prepend(e(n[i].cloneNode(!0)).addClass(a.params.slideDuplicateClass))},a.destroyLoop=function(){a.wrapper.children("."+a.params.slideClass+"."+a.params.slideDuplicateClass).remove(),a.slides.removeAttr("data-swiper-slide-index")},a.fixLoop=function(){var e;if(a.activeIndex<a.loopedSlides)e=a.slides.length-a.loopedSlides*3+a.activeIndex,e+=a.loopedSlides,a.slideTo(e,0,!1,!0);else if(a.params.slidesPerView==="auto"&&a.activeIndex>=a.loopedSlides*2||a.activeIndex>a.slides.length-a.params.slidesPerView*2)e=-a.slides.length+a.activeIndex+a.loopedSlides,e+=a.loopedSlides,a.slideTo(e,0,!1,!0)},a.appendSlide=function(e){a.params.loop&&a.destroyLoop();if(typeof e=="object"&&e.length)for(var t=0;t<e.length;t++)e[t]&&a.wrapper.append(e[t]);else a.wrapper.append(e);a.params.loop&&a.createLoop(),(!a.params.observer||!a.support.observer)&&a.update(!0)},a.prependSlide=function(e){a.params.loop&&a.destroyLoop();var t=a.activeIndex+1;if(typeof e=="object"&&e.length){for(var n=0;n<e.length;n++)e[n]&&a.wrapper.prepend(e[n]);t=a.activeIndex+e.length}else a.wrapper.prepend(e);a.params.loop&&a.createLoop(),(!a.params.observer||!a.support.observer)&&a.update(!0),a.slideTo(t,0,!1)},a.removeSlide=function(e){a.params.loop&&a.destroyLoop();var t=a.activeIndex,n;if(typeof e=="object"&&e.length){for(var r=0;r<e.length;r++)n=e[r],a.slides[n]&&a.slides.eq(n).remove(),n<t&&t--;t=Math.max(t,0)}else n=e,a.slides[n]&&a.slides.eq(n).remove(),n<t&&t--,t=Math.max(t,0);(!a.params.observer||!a.support.observer)&&a.update(!0),a.slideTo(t,0,!1)},a.removeAllSlides=function(){var e=[];for(var t=0;t<a.slides.length;t++)e.push(t);a.removeSlide(e)},a.effects={fade:{fadeIndex:null,setTranslate:function(){for(var e=0;e<a.slides.length;e++){var t=a.slides.eq(e),n=t[0].swiperSlideOffset,r=-n;a.params.virtualTranslate||(r-=a.translate);var i=0;f()||(i=r,r=0);var s=a.params.fade.crossFade?Math.max(1-Math.abs(t[0].progress),0):1+Math.min(Math.max(t[0].progress,-1),0);s>0&&s<1&&(a.effects.fade.fadeIndex=e),t.css({opacity:s}).transform("translate3d("+r+"px, "+i+"px, 0px)")}},setTransition:function(e){a.slides.transition(e);if(a.params.virtualTranslate&&e!==0){var t=a.effects.fade.fadeIndex!==null?a.effects.fade.fadeIndex:a.activeIndex;a.slides.eq(t).transitionEnd(function(){var e=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"];for(var t=0;t<e.length;t++)a.wrapper.trigger(e[t])})}}},cube:{setTranslate:function(){var t=0,n;a.params.cube.shadow&&(f()?(n=a.wrapper.find(".swiper-cube-shadow"),n.length===0&&(n=e('<div class="swiper-cube-shadow"></div>'),a.wrapper.append(n)),n.css({height:a.width+"px"})):(n=a.container.find(".swiper-cube-shadow"),n.length===0&&(n=e('<div class="swiper-cube-shadow"></div>'),a.container.append(n))));for(var r=0;r<a.slides.length;r++){var i=a.slides.eq(r),s=r*90,o=Math.floor(s/360);a.rtl&&(s=-s,o=Math.floor(-s/360));var u=Math.max(Math.min(i[0].progress,1),-1),l=0,c=0,h=0;r%4===0?(l=-o*4*a.size,h=0):(r-1)%4===0?(l=0,h=-o*4*a.size):(r-2)%4===0?(l=a.size+o*4*a.size,h=a.size):(r-3)%4===0&&(l=-a.size,h=3*a.size+a.size*4*o),a.rtl&&(l=-l),f()||(c=l,l=0);var p="rotateX("+(f()?0:-s)+"deg) rotateY("+(f()?s:0)+"deg) translate3d("+l+"px, "+c+"px, "+h+"px)";u<=1&&u>-1&&(t=r*90+u*90,a.rtl&&(t=-r*90-u*90)),i.transform(p);if(a.params.cube.slideShadows){var d=f()?i.find(".swiper-slide-shadow-left"):i.find(".swiper-slide-shadow-top"),v=f()?i.find(".swiper-slide-shadow-right"):i.find(".swiper-slide-shadow-bottom");d.length===0&&(d=e('<div class="swiper-slide-shadow-'+(f()?"left":"top")+'"></div>'),i.append(d)),v.length===0&&(v=e('<div class="swiper-slide-shadow-'+(f()?"right":"bottom")+'"></div>'),i.append(v)),d.length&&(d[0].style.opacity=-i[0].progress),v.length&&(v[0].style.opacity=i[0].progress)}}a.wrapper.css({"-webkit-transform-origin":"50% 50% -"+a.size/2+"px","-moz-transform-origin":"50% 50% -"+a.size/2+"px","-ms-transform-origin":"50% 50% -"+a.size/2+"px","transform-origin":"50% 50% -"+a.size/2+"px"});if(a.params.cube.shadow)if(f())n.transform("translate3d(0px, "+(a.width/2+a.params.cube.shadowOffset)+"px, "+ -a.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+a.params.cube.shadowScale+")");else{var m=Math.abs(t)-Math.floor(Math.abs(t)/90)*90,g=1.5-(Math.sin(m*2*Math.PI/360)/2+Math.cos(m*2*Math.PI/360)/2),y=a.params.cube.shadowScale,b=a.params.cube.shadowScale/g,w=a.params.cube.shadowOffset;n.transform("scale3d("+y+", 1, "+b+") translate3d(0px, "+(a.height/2+w)+"px, "+ -a.height/2/b+"px) rotateX(-90deg)")}var E=a.isSafari||a.isUiWebView?-a.size/2:0;a.wrapper.transform("translate3d(0px,0,"+E+"px) rotateX("+(f()?0:t)+"deg) rotateY("+(f()?-t:0)+"deg)")},setTransition:function(e){a.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),a.params.cube.shadow&&!f()&&a.container.find(".swiper-cube-shadow").transition(e)}},coverflow:{setTranslate:function(){var t=a.translate,n=f()?-t+a.width/2:-t+a.height/2,r=f()?a.params.coverflow.rotate:-a.params.coverflow.rotate,i=a.params.coverflow.depth;for(var s=0,o=a.slides.length;s<o;s++){var u=a.slides.eq(s),l=a.slidesSizesGrid[s],c=u[0].swiperSlideOffset,h=(n-c-l/2)/l*a.params.coverflow.modifier,p=f()?r*h:0,d=f()?0:r*h,v=-i*Math.abs(h),m=f()?0:a.params.coverflow.stretch*h,g=f()?a.params.coverflow.stretch*h:0;Math.abs(g)<.001&&(g=0),Math.abs(m)<.001&&(m=0),Math.abs(v)<.001&&(v=0),Math.abs(p)<.001&&(p=0),Math.abs(d)<.001&&(d=0);var y="translate3d("+g+"px,"+m+"px,"+v+"px)  rotateX("+d+"deg) rotateY("+p+"deg)";u.transform(y),u[0].style.zIndex=-Math.abs(Math.round(h))+1;if(a.params.coverflow.slideShadows){var b=f()?u.find(".swiper-slide-shadow-left"):u.find(".swiper-slide-shadow-top"),w=f()?u.find(".swiper-slide-shadow-right"):u.find(".swiper-slide-shadow-bottom");b.length===0&&(b=e('<div class="swiper-slide-shadow-'+(f()?"left":"top")+'"></div>'),u.append(b)),w.length===0&&(w=e('<div class="swiper-slide-shadow-'+(f()?"right":"bottom")+'"></div>'),u.append(w)),b.length&&(b[0].style.opacity=h>0?h:0),w.length&&(w[0].style.opacity=-h>0?-h:0)}}if(a.browser.ie){var E=a.wrapper[0].style;E.perspectiveOrigin=n+"px 50%"}},setTransition:function(e){a.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}}},a.lazy={initialImageLoaded:!1,loadImageInSlide:function(t){if(typeof t=="undefined")return;if(a.slides.length===0)return;var n=a.slides.eq(t),r=n.find("img.swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");if(r.length===0)return;r.each(function(){var t=e(this);t.addClass("swiper-lazy-loading");var r=t.attr("data-src");a.loadImage(t[0],r,!1,function(){t.attr("src",r),t.removeAttr("data-src"),t.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading"),n.find(".swiper-lazy-preloader, .preloader").remove(),a.emit("onLazyImageReady",a,n[0],t[0])}),a.emit("onLazyImageLoad",a,n[0],t[0])})},load:function(){if(a.params.watchSlidesVisibility)a.wrapper.children("."+a.params.slideVisibleClass).each(function(){a.lazy.loadImageInSlide(e(this).index())});else if(a.params.slidesPerView>1)for(var t=a.activeIndex;t<a.activeIndex+a.params.slidesPerView;t++)a.slides[t]&&a.lazy.loadImageInSlide(t);else a.lazy.loadImageInSlide(a.activeIndex);if(a.params.lazyLoadingInPrevNext){var n=a.wrapper.children("."+a.params.slideNextClass);n.length>0&&a.lazy.loadImageInSlide(n.index());var r=a.wrapper.children("."+a.params.slidePrevClass);r.length>0&&a.lazy.loadImageInSlide(r.index())}},onTransitionStart:function(){a.params.lazyLoading&&(a.params.lazyLoadingOnTransitionStart||!a.params.lazyLoadingOnTransitionStart&&!a.lazy.initialImageLoaded)&&(a.lazy.initialImageLoaded=!0,a.lazy.load())},onTransitionEnd:function(){a.params.lazyLoading&&!a.params.lazyLoadingOnTransitionStart&&a.lazy.load()}},a.scrollbar={set:function(){if(!a.params.scrollbar)return;var t=a.scrollbar;t.track=e(a.params.scrollbar),t.drag=t.track.find(".swiper-scrollbar-drag"),t.drag.length===0&&(t.drag=e('<div class="swiper-scrollbar-drag"></div>'),t.track.append(t.drag)),t.drag[0].style.width="",t.drag[0].style.height="",t.trackSize=f()?t.track[0].offsetWidth:t.track[0].offsetHeight,t.divider=a.size/a.virtualSize,t.moveDivider=t.divider*(t.trackSize/a.size),t.dragSize=t.trackSize*t.divider,f()?t.drag[0].style.width=t.dragSize+"px":t.drag[0].style.height=t.dragSize+"px",t.divider>=1?t.track[0].style.display="none":t.track[0].style.display="",a.params.scrollbarHide&&(t.track[0].style.opacity=0)},setTranslate:function(){if(!a.params.scrollbar)return;var e=a.scrollbar,t,n=e.dragSize;t=(e.trackSize-e.dragSize)*a.progress,a.rtl&&f()?(t=-t,t>0?(n=e.dragSize-t,t=0):-t+e.dragSize>e.trackSize&&(n=e.trackSize+t)):t<0?(n=e.dragSize+t,t=0):t+e.dragSize>e.trackSize&&(n=e.trackSize-t),f()?(a.support.transforms3d?e.drag.transform("translate3d("+t+"px, 0, 0)"):e.drag.transform("translateX("+t+"px)"),e.drag[0].style.width=n+"px"):(a.support.transforms3d?e.drag.transform("translate3d(0px, "+t+"px, 0)"):e.drag.transform("translateY("+t+"px)"),e.drag[0].style.height=n+"px"),a.params.scrollbarHide&&(clearTimeout(e.timeout),e.track[0].style.opacity=1,e.timeout=setTimeout(function(){e.track[0].style.opacity=0,e.track.transition(400)},1e3))},setTransition:function(e){if(!a.params.scrollbar)return;a.scrollbar.drag.transition(e)}},a.controller={setTranslate:function(e,n){var r=a.params.control,i,s;if(a.isArray(r))for(var o=0;o<r.length;o++)r[o]!==n&&r[o]instanceof t&&(e=r[o].rtl&&r[o].params.direction==="horizontal"?-a.translate:a.translate,i=(r[o].maxTranslate()-r[o].minTranslate())/(a.maxTranslate()-a.minTranslate()),s=(e-a.minTranslate())*i+r[o].minTranslate(),a.params.controlInverse&&(s=r[o].maxTranslate()-s),r[o].updateProgress(s),r[o].setWrapperTranslate(s,!1,a),r[o].updateActiveIndex());else r instanceof t&&n!==r&&(e=r.rtl&&r.params.direction==="horizontal"?-a.translate:a.translate,i=(r.maxTranslate()-r.minTranslate())/(a.maxTranslate()-a.minTranslate()),s=(e-a.minTranslate())*i+r.minTranslate(),a.params.controlInverse&&(s=r.maxTranslate()-s),r.updateProgress(s),r.setWrapperTranslate(s,!1,a),r.updateActiveIndex())},setTransition:function(e,n){var r=a.params.control;if(a.isArray(r))for(var i=0;i<r.length;i++)r[i]!==n&&r[i]instanceof t&&r[i].setWrapperTransition(e,a);else r instanceof t&&n!==r&&r.setWrapperTransition(e,a)}},a.parallax={setTranslate:function(){a.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){L(this,a.progress)}),a.slides.each(function(){var t=e(this);t.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var e=Math.min(Math.max(t[0].progress,-1),1);L(this,e)})})},setTransition:function(t){typeof t=="undefined"&&(t=a.params.speed),a.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var n=e(this),r=parseInt(n.attr("data-swiper-parallax-duration"),10)||t;t===0&&(r=0),n.transition(r)})}},a._plugins=[];for(var A in a.plugins)if(a.plugins.hasOwnProperty(A)){var O=a.plugins[A](a,a.params[A]);O&&a._plugins.push(O)}return a.callPlugins=function(e){for(var t=0;t<a._plugins.length;t++)e in a._plugins[t]&&a._plugins[t][e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},a.emitterEventListeners={},a.emit=function(e){a.params[e]&&a.params[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);var t;if(!a)return;if(a.emitterEventListeners[e])for(t=0;t<a.emitterEventListeners[e].length;t++)a.emitterEventListeners[e][t](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);a.callPlugins&&a.callPlugins(e,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},a.on=function(e,t){return e=M(e),a.emitterEventListeners[e]||(a.emitterEventListeners[e]=[]),a.emitterEventListeners[e].push(t),a},a.off=function(e,t){var n;e=M(e);if(typeof t=="undefined")return a.emitterEventListeners[e]=[],a;if(!a.emitterEventListeners[e]||a.emitterEventListeners[e].length===0)return;for(n=0;n<a.emitterEventListeners[e].length;n++)a.emitterEventListeners[e][n]===t&&a.emitterEventListeners[e].splice(n,1);return a},a.once=function(e,t){e=M(e);var n=function(){t(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),a.off(e,n)};return a.on(e,n),a},a.a11y={makeFocusable:function(e){return e[0].tabIndex="0",e},addRole:function(e,t){return e.attr("role",t),e},addLabel:function(e,t){return e.attr("aria-label",t),e},disable:function(e){return e.attr("aria-disabled",!0),e},enable:function(e){return e.attr("aria-disabled",!1),e},onEnterKey:function(t){if(t.keyCode!==13)return;e(t.target).is(a.params.nextButton)?(a.onClickNext(t),a.isEnd?a.a11y.notify(a.params.lastSlideMsg):a.a11y.notify(a.params.nextSlideMsg)):e(t.target).is(a.params.prevButton)&&(a.onClickPrev(t),a.isBeginning?a.a11y.notify(a.params.firstSlideMsg):a.a11y.notify(a.params.prevSlideMsg))},liveRegion:e('<span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>'),notify:function(e){var t=a.a11y.liveRegion;if(t.length===0)return;t.html(""),t.html(e)},init:function(){if(a.params.nextButton){var t=e(a.params.nextButton);a.a11y.makeFocusable(t),a.a11y.addRole(t,"button"),a.a11y.addLabel(t,a.params.nextSlideMsg)}if(a.params.prevButton){var n=e(a.params.prevButton);a.a11y.makeFocusable(n),a.a11y.addRole(n,"button"),a.a11y.addLabel(n,a.params.prevSlideMsg)}e(a.container).append(a.a11y.liveRegion)},destroy:function(){a.a11y.liveRegion&&a.a11y.liveRegion.length>0&&a.a11y.liveRegion.remove()}},a.init=function(){a.params.loop&&a.createLoop(),a.updateContainerSize(),a.updateSlidesSize(),a.updatePagination(),a.params.scrollbar&&a.scrollbar&&a.scrollbar.set(),a.params.effect!=="slide"&&a.effects[a.params.effect]&&(a.params.loop||a.updateProgress(),a.effects[a.params.effect].setTranslate()),a.params.loop?a.slideTo(a.params.initialSlide+a.loopedSlides,0,a.params.runCallbacksOnInit):(a.slideTo(a.params.initialSlide,0,a.params.runCallbacksOnInit),a.params.initialSlide===0&&(a.parallax&&a.params.parallax&&a.parallax.setTranslate(),a.lazy&&a.params.lazyLoading&&a.lazy.load())),a.attachEvents(),a.params.observer&&a.support.observer&&a.initObservers(),a.params.preloadImages&&!a.params.lazyLoading&&a.preloadImages(),a.params.autoplay&&a.startAutoplay(),a.params.keyboardControl&&a.enableKeyboardControl&&a.enableKeyboardControl(),a.params.mousewheelControl&&a.enableMousewheelControl&&a.enableMousewheelControl(),a.params.hashnav&&a.hashnav&&a.hashnav.init(),a.params.a11y&&a.a11y&&a.a11y.init(),a.emit("onInit",a)},a.cleanupStyles=function(){a.container.removeClass(a.classNames.join(" ")).removeAttr("style"),a.wrapper.removeAttr("style"),a.slides&&a.slides.length&&a.slides.removeClass([a.params.slideVisibleClass,a.params.slideActiveClass,a.params.slideNextClass,a.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),a.paginationContainer&&a.paginationContainer.length&&a.paginationContainer.removeClass(a.params.paginationHiddenClass),a.bullets&&a.bullets.length&&a.bullets.removeClass(a.params.bulletActiveClass),a.params.prevButton&&e(a.params.prevButton).removeClass(a.params.buttonDisabledClass),a.params.nextButton&&e(a.params.nextButton).removeClass(a.params.buttonDisabledClass),a.params.scrollbar&&a.scrollbar&&(a.scrollbar.track&&a.scrollbar.track.length&&a.scrollbar.track.removeAttr("style"),a.scrollbar.drag&&a.scrollbar.drag.length&&a.scrollbar.drag.removeAttr("style"))},a.destroy=function(e,t){a.detachEvents(),a.stopAutoplay(),a.params.loop&&a.destroyLoop(),t&&a.cleanupStyles(),a.disconnectObservers(),a.params.keyboardControl&&a.disableKeyboardControl&&a.disableKeyboardControl(),a.params.mousewheelControl&&a.disableMousewheelControl&&a.disableMousewheelControl(),a.params.a11y&&a.a11y&&a.a11y.destroy(),a.emit("onDestroy"),e!==!1&&(a=null)},a.init(),a};t.prototype={defaults:{direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,scrollbar:null,scrollbarHide:!0,keyboardControl:!1,mousewheelControl:!1,mousewheelForceToAxis:!1,hashnav:!1,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,pagination:null,paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:undefined,controlInverse:!1,allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationHiddenClass:"swiper-pagination-hidden",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",runCallbacksOnInit:!0},isSafari:function(){var e=navigator.userAgent.toLowerCase();return e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(e){return Object.prototype.toString.apply(e)==="[object Array]"},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1},device:function(){var e=navigator.userAgent,t=e.match(/(Android);?[\s\/]+([\d.]+)?/),n=e.match(/(iPad).*OS\s([\d_]+)/),r=!n&&e.match(/(iPhone\sOS)\s([\d_]+)/);return{ios:n||r||n,android:t}}(),support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){var e=document.createElement("div").style;return"webkitPerspective"in e||"MozPerspective"in e||"OPerspective"in e||"MsPerspective"in e||"perspective"in e}(),flexbox:function(){var e=document.createElement("div").style,t="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" ");for(var n=0;n<t.length;n++)if(t[n]in e)return!0}(),observer:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}()},plugins:{}},e.Swiper=t}(Zepto),define("Swiper",function(){}),define("UISwiper",["libs","Swiper"],function(e,t){var n=['<div class="swiper-wrapper">',"  <%list.forEach(function(imgurl){%>",'    <div class="swiper-slide">','      <img class="swiper-lazy" data-src="<%=imgurl%>" style="width: 100%">','      <div class="preloader"></div>',"    </div>","  <%})%>","</div>",'<div class="swiper-pagination"></div>'].join("");return _.inherit({propertys:function(){this.template=n},initialize:function(e,t){this.propertys(),this.renderSwiper(e,t)},renderSwiper:function(e,t){var n=t.length;if(!n)return;var r="";if(n>1){r=_.template(this.template)({list:t}),e.html(r);var i={pagination:".swiper-pagination",paginationClickable:!0,loop:!0,preloadImages:!1,lazyLoadingInPrevNext:!0,lazyLoading:!0},s=new $.Swiper(e,i);return _.extend(this,s),this}r='<img src="'+t[0]+'" style="width: 100%">',e.html(r)}})}),define("UIDownTip",[],function(){var e="assets/img/logo.png",t=['<div id="J_down_tip" class="down-tip">','  <div class="tip-bg"></div>','  <span class="close">×</span>',"  <p>",'    <img src="'+e+'" width="32" height="32" alt="logo">','    <a href="<%=url%>"><span class="btn fr">立即体验</span><span class="text">专做食品特卖，全场包邮</span></a>',"  </p>","</div>"].join(""),n=window.localStorage,r="";return $.os.ios?r="http://a.app.qq.com/o/simple.jsp?pkgname=com.doweidu.android.haoshiqi":$.os.android?r="http://a.app.qq.com/o/simple.jsp?pkgname=com.doweidu.android.haoshiqi":r="",_.inherit({propertys:function(){this.template=t},initialize:function(e,t){this.propertys(),this.checkStatus()},checkStatus:function(){this.$downTipDom=$("#J_down_tip"),this.show()},show:function(){var e=this;if(!r)return;var t=_.template(this.template)({url:r});this.$downTipDom.length?this.$downTipDom.show():$("body").append(t),this.$downTipDom.find(".close").click(function(t){e.hide()})},hide:function(){this.$downTipDom.length&&this.$downTipDom.hide()}})}),define("text!../blade/ui/ui.loading.layer.html",[],function(){return'<%\nvar hasText = (typeof content == \'string\' && content.length > 0);\n%>\n<section class="cm-loading  <%if(closeBtn){ %> cm-loading--close<% } %>">\n  <span class="preloader"></span>\n  <%if(closeBtn){ %><i class="icon-close js_close"></i><% } %>\n  <%if(hasText){ %><p class="cm-loading-text">\n    <%=content %></p>\n  <% } %>\n</section>\n'}),define("text!../blade/ui/ui.toast.html",[],function(){return'<section class="cm-modal cm-modal--toast">\n   <%=content %>\n</section>'});