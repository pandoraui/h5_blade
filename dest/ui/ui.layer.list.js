define(["UILayer","text!T_UILayerList"],function(a,b){return _.inherit(a,{propertys:function($super){$super(),this.template=b,this.animateInClass="cm-down-in",this.animateOutClass="cm-down-out",this.list=[],this.cancelText="取消",this.className="popup-operate",this.index=-1,this.curClass="active",this.addEvents({"click .js_cancel":"cancelAction","click .js_item":"itemAction"}),this.onItemAction=function(){}},getViewModel:function(){return this._getDefaultViewModel(["list","cancelText","className","index","curClass"])},setIndex:function(a){0>a||a>this.list.length||(this.index=a,this.$("li").removeClass(this.curClass),this.$('li[data-index="'+a+'"]').addClass(this.curClass))},cancelAction:function(){this.hide()},itemAction:function(a){var b=$(a.currentTarget),c=b.attr("data-index"),d=this.list[c];this.setIndex(c),this.onItemAction.call(this,d,c,a)},reposition:function(){this.$root.css({position:"fixed",width:"100%",padding:"10px",left:"0",bottom:"0"})}})});