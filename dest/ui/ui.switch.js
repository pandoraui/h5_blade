define(["UIView","text!T_UISwitch","text!C_UISwitch"],function(a,b,c){return _.inherit(a,{propertys:function($super){$super(),this.template=b,this.addUIStyle(c),this.openShadowDom=!1,this.checkedFlag=!1,this.checkedClass="active"},getViewModel:function(){return this._getDefaultViewModel(["checkedFlag"])},initElement:function(){this.el=this.$(".js_switch")},checked:function(){("function"!=typeof this.checkAvailabe||this.checkAvailabe())&&(this.getStatus()||(this.el.addClass(this.checkedClass),this.checkedFlag=!0,this._triggerChanged()))},unChecked:function(){("function"!=typeof this.checkAvailabe||this.checkAvailabe())&&this.getStatus()&&(this.el.removeClass(this.checkedClass),this.checkedFlag=!1,this._triggerChanged())},_triggerChanged:function(){"function"==typeof this.changed&&this.changed.call(this,this.getStatus())},changed:function(a){0},getStatus:function(){return this.checkedFlag},addEvent:function($super){$super(),this.on("onShow",function(){this.$root.css("display","inline-block"),_.flip(this.$el,"left",$.proxy(function(){this.unChecked()},this)),_.flip(this.$el,"right",$.proxy(function(){this.checked()},this)),_.flip(this.$el,"tap",$.proxy(function(){this.getStatus()?this.unChecked():this.checked()},this))}),this.on("onHide",function(){_.flipDestroy(this.$el)})}})});